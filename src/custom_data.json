{
  "actors": {},
  "buckets": {},
  "savestates": {},
  "combat_skills": {},
  "effects": {},
  "emitters": {},
  "projectiles": {},
  "items": {
    "archipelago_basebox": {
      "name": "Placeholder archipelago item (vague info about multiworld item type here?)",
      "slot": "nothing",
      "enchantments": [],
      "category": "miscellaneous",
      "description": "Placeholder item for consumable archipelago checks, namely shop items (put information about the corresponding multiworld item here?)",
      "icon": "icon_archipelagopow",
      "uselink": "Open it",
      "usescript": "archipelago_opencheckbox",
      "sellvalue": 0.0,
      "region": "Various",
      "bluetext": "Bluetext here",
      "source": "Archipelago checks in shops"
    }
  },
  "scripts": {
    "archipelago_opencheckbox": {
      "invpopup": [
        [
          "say",
          "Opened!"
        ],
        [
          "say",
          "Do the check here (in JSON)"
        ],
        [
          "option",
          "done",
          "Done"
        ]
      ],
      "done": [
        [
          "consume"
        ],
        [
          "exit"
        ]
      ]
    },
    "bandit1_door": {
      "getgearrough": [
        [
          "leftspeak",
          "Toss out your weapons and I won't rough you up."
        ],
        [
          "say",
          "You hear a quiet but heated discussion inside.  Eventually a voice says \"All right,\" and some pistols fall out the window."
        ],
        [
          "checklocation",
          "Desert House - Gang Shakedown"
        ],
        [
          "sayoption",
          "getgear2",
          "Just kidding, I'm still going to rough you up a little."
        ]
      ],
      "getgear": [
        [
          "leftspeak",
          "Toss out your weapons and I won't arrest you."
        ],
        [
          "say",
          "You hear a quiet but heated discussion inside.  Eventually a voice says \"All right,\" and some pistols fall out the window."
        ],
        [
          "checklocation",
          "Desert House - Gang Shakedown"
        ],
        [
          "sayoption",
          "getgear2",
          "Just kidding, I'm still going to arrest you."
        ]
      ]
    },
    "bandit1_fight": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "Justice has been served to the old House gang."
        ],
        [
          "addxp",
          "@xpreward_a@*3"
        ],
        [
          "addflag",
          "bandit1_killed"
        ],
        [
          "addflag",
          "bandit1_resolved,2"
        ],
        [
          "changewaaproperty",
          "sneak,0"
        ],
        [
          "additem",
          "quest_bandit1remainskill"
        ],
        [
          "checklocation",
          "Desert House - Gang Killed"
        ],
        [
          "if",
          "itemroll(40) && !hasitem(hat_black)"
        ],
        [
          "additem",
          "hat_black"
        ],
        [
          "if",
          "itemroll(20) && !hasitem(boots_black)"
        ],
        [
          "additem",
          "boots_black"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "bandit2_bartendercorpse": {
      "e": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "He had a jaw harp in his pocket!"
        ],
        [
          "say",
          "Maybe they killed him for playing the jaw harp too much."
        ],
        [
          "checklocation",
          "Cavern Canyon Bar - Bartender's Bones"
        ]
      ]
    },
    "bandit2_bones": {
      "popup": [
        [
          "say",
          "The remains of a group of outlaws, tragically killed by a giant spider."
        ],
        [
          "if",
          "!hasflag(bandit2_bountygot) && !hasflag(bandit2_gotremains)"
        ],
        [
          "say",
          "There's a tattooed tooth in one of the skulls."
        ],
        [
          "if",
          "!hasflag(bandit2_bountygot) && !hasflag(bandit2_gotremains)"
        ],
        [
          "option",
          "take",
          "Take it"
        ]
      ],
      "take": [
        [
          "cls"
        ],
        [
          "say",
          "It comes out real easy like.  The spider venom must've loosened things up."
        ],
        [
          "additem",
          "quest_bandit2remains"
        ],
        [
          "say",
          "Also, though the rest of the bones are picked clean, the gang's stripey hats lie nearby.  Apparently even the spider was disgusted by them.  You take one."
        ],
        [
          "checklocation",
          "Cavern Canyon - Stripey Hat Gang Killed"
        ],
        [
          "addflag",
          "bandit2_gotremains"
        ]
      ]
    },
    "bandit2_boozeshelf": {
      "take": [
        [
          "cls"
        ],
        [
          "say",
          "You grab 'em."
        ],
        [
          "checklocation",
          "Cavern Canyon Bar - Behind the Bar"
        ],
        [
          "markused"
        ]
      ]
    },
    "bandit2_fighttrigger": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "bandit2_resolved,2"
        ],
        [
          "addflag",
          "bandit2_spiderscene"
        ],
        [
          "changewaaproperty",
          "sneak,0"
        ],
        [
          "say",
          "You put an end to the Stripey Hat Gang's reign of bad taste."
        ],
        [
          "addxp",
          "xpreward_a*3"
        ],
        [
          "say",
          "You take the leader's tattooed tooth, as a means of identifying him."
        ],
        [
          "additem",
          "quest_bandit2remains"
        ],
        [
          "say",
          "You also take one of those horrible hats, as a souvenir."
        ],
        [
          "checklocation",
          "Cavern Canyon - Stripey Hat Gang Killed"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "bandit2_lootpile1": {
      "open": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "You dig through the crate.  It's mostly full of packing straw, but you find a pretty fancy knife at the bottom!"
        ],
        [
          "checklocation",
          "Cavern Canyon Spider Cave - Weapens Box"
        ],
        [
          "say",
          "You hear a sudden chittering coming from that big hole behind you."
        ],
        [
          "addflag",
          "bandit2_wokespider"
        ]
      ]
    },
    "bandit2_lootpile2": {
      "open": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "You dig through the crate."
        ],
        [
          "additem",
          "potion_laudanum,2"
        ],
        [
          "checklocation",
          "Cavern Canyon Spider Cave - Medisun Box"
        ],
        [
          "say",
          "You hear a sudden chittering coming from that big hole behind you."
        ],
        [
          "addflag",
          "bandit2_wokespider"
        ]
      ]
    },
    "bandit2_lootpile3": {
      "open": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "You open the crate to find a single bottle of booze.  It's not the fanciest in the world, but for these parts, it's pretty fancy."
        ],
        [
          "checklocation",
          "Cavern Canyon Spider Cave - Booze Box"
        ],
        [
          "say",
          "You hear a sudden chittering coming from that big hole behind you."
        ],
        [
          "addflag",
          "bandit2_wokespider"
        ]
      ]
    },
    "bandit4_officesafe": {
      "crack": [
        [
          "cls"
        ],
        [
          "playsound",
          "opensafe"
        ],
        [
          "say",
          "The safe contains an extremely broad-brimmed hat."
        ],
        [
          "checklocation",
          "Old Millinery - Office Safe"
        ],
        [
          "markused"
        ]
      ]
    },
    "bandit5_ghost1": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "bandit5_ghost1,2"
        ],
        [
          "say",
          "Thanks to your unrivaled peacemaking abilities, that ghost is definitely at peace now."
        ],
        [
          "addxp",
          "@xpreward_c@*5"
        ],
        [
          "additem",
          "quest_bandit5remains1"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Cukes Room - Ghost Put To Rest"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "fix": [
        [
          "rightspeak",
          "It's...  It's finally done.  Thank you."
        ],
        [
          "say",
          "The ghost smiles as he fades away.  A few bones hit the ground below it."
        ],
        [
          "additem",
          "quest_bandit5remains1"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Cukes Room - Ghost Put To Rest"
        ],
        [
          "addflag",
          "bandit5_ghost1,1"
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "option",
          "done",
          "Rest in peace, poor guy"
        ]
      ]
    },
    "bandit5_ghost2": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "bandit5_ghost2,2"
        ],
        [
          "say",
          "You've put that unfortunate bandit to rest.  Maybe now he'll have less of a salty attitude."
        ],
        [
          "addxp",
          "@xpreward_c@*5"
        ],
        [
          "additem",
          "quest_bandit5remains2"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Salt Room - Ghost Put To Rest"
        ],
        [
          "addstate",
          "winbutton,Rest easy, salty guy."
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "fix": [
        [
          "rightspeak",
          "It's...  It's finally done.  Thank you."
        ],
        [
          "say",
          "The ghost smiles as he fades away.  A few bones hit the ground below it."
        ],
        [
          "additem",
          "quest_bandit5remains2"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Salt Room - Ghost Put To Rest"
        ],
        [
          "addflag",
          "bandit5_ghost2,1"
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "option",
          "done",
          "Rest in peace"
        ]
      ]
    },
    "bandit5_ghost3": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "bandit5_ghost3,2"
        ],
        [
          "say",
          "You set that ghostly fellow to rights, all right."
        ],
        [
          "addxp",
          "@xpreward_c@*5"
        ],
        [
          "additem",
          "quest_bandit5remains3"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Vinegar Room - Ghost Put To Rest"
        ],
        [
          "say",
          "Weird.  He didn't even have legs."
        ],
        [
          "addstate",
          "winbutton,Rest in peace, poor guy."
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "fix": [
        [
          "rightspeak",
          "It's...  It's finally done.  Thank you."
        ],
        [
          "say",
          "The ghost smiles as he fades away.  A few bones hit the ground below it."
        ],
        [
          "additem",
          "quest_bandit5remains3"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Vinegar Room - Ghost Put To Rest"
        ],
        [
          "addflag",
          "bandit5_ghost3,1"
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "option",
          "done",
          "Rest in peace"
        ]
      ]
    },
    "bandit5_picklelever": {
      "success": [
        [
          "addflag",
          "bandit5_usedfactory"
        ],
        [
          "say",
          "You pull the lever and there is a deafening roar as the old machinery springs into life."
        ],
        [
          "say",
          "After a while, a load of pickles is deposited in the receptacle to the left of the switch."
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory - Puzzle Solved"
        ],
        [
          "say",
          "Huh.  All that work for three pickles?  No wonder this place went out of business."
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains1)"
        ],
        [
          "say",
          "The ghost from the cucumber room drifts through the door, gives you a grateful look, then clatters to the floor as it is replaced with a pile of bones."
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains1)"
        ],
        [
          "addflag",
          "bandit5_ghost1,1"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains1)"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Cukes Room - Ghost Put To Rest"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains1)"
        ],
        [
          "additem",
          "quest_bandit5remains1"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains2)"
        ],
        [
          "say",
          "The ghost from the salt room drifts through the door, gives you a grateful look, then collapses into a pile of remains."
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains2)"
        ],
        [
          "addflag",
          "bandit5_ghost2,1"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains2)"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Salt Room - Ghost Put To Rest"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains2)"
        ],
        [
          "additem",
          "quest_bandit5remains2"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains3)"
        ],
        [
          "say",
          "The ghost from the vinegar room drifts through the door, gives you a grateful look, then vanishes in a puff of bones."
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains3)"
        ],
        [
          "addflag",
          "bandit5_ghost3,1"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains3)"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Vinegar Room - Ghost Put To Rest"
        ],
        [
          "if",
          "!hasitem(quest_bandit5remains3)"
        ],
        [
          "additem",
          "quest_bandit5remains3"
        ],
        [
          "option",
          "done",
          "Yep"
        ]
      ]
    },
    "bandit5_shovelbin": {
      "get": [
        [
          "cls"
        ],
        [
          "checklocation",
          "Abandoned Pickle Factory Vinegar Room - Coal Cart"
        ],
        [
          "markused"
        ]
      ]
    },
    "bandit7_beastpile": {
      "get": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You plop a big ol' glob of yeast into your pack."
        ],
        [
          "checklocation",
          "Ol' Schmaltz Brewery - Deceased Yeast Beast"
        ]
      ]
    },
    "bandit7_beershelf": {
      "get": [
        [
          "cls"
        ],
        [
          "say",
          "Three cans of beer on the wall, three cans of beer! Take them all down and put them in your bag, instead of singing the rest of this song about beer!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Ol' Schmaltz Brewery - Shelf"
        ]
      ]
    },
    "bandit7_yeastyhat": {
      "e": [
        [
          "addflag",
          "bandit7_yeastyhat"
        ],
        [
          "cls"
        ],
        [
          "say",
          "Okay, but ew."
        ],
        [
          "checklocation",
          "Ol' Schmaltz Brewery - Dead Guy"
        ]
      ]
    },
    "bandit8_bookshelf2": {
      "start": [
        [
          "say",
          "There are quite a few good books on here, actually!"
        ],
        [
          "checklocation",
          "Chuck's House Cellar - Bookcase (Item 1)"
        ],
        [
          "checklocation",
          "Chuck's House Cellar - Bookcase (Item 2)"
        ],
        [
          "checklocation",
          "Chuck's House Cellar - Bookcase (Item 3)"
        ],
        [
          "option",
          "done",
          "What a haul!"
        ]
      ]
    },
    "bandit8_dresser": {
      "popup": [
        [
          "say",
          "Going through Chuck's drawers seems like maybe not a good idea."
        ],
        [
          "if",
          "!hasflag(chuckshouse_gotkey)"
        ],
        [
          "say",
          "There is a key on top of the dresser, though."
        ],
        [
          "if",
          "!hasflag(chuckshouse_gotkey)"
        ],
        [
          "option",
          "get",
          "Yoink!"
        ]
      ],
      "get": [
        [
          "cls"
        ],
        [
          "checklocation",
          "Chuck's House - Bedroom Dresser"
        ],
        [
          "addflag",
          "chuckshouse_gotkey"
        ],
        [
          "say",
          "Yoink, indeed."
        ]
      ]
    },
    "bandit8_mailbag": {
      "take": [
        [
          "cls"
        ],
        [
          "say",
          "You sling the sack of mail over your shoulder. Neither rain nor sleet nor super-creepy B&B proprietors."
        ],
        [
          "checklocation",
          "Chuck's House Cellar - Mail Bag"
        ],
        [
          "addflag",
          "bandit8_tookmail"
        ]
      ]
    },
    "bandit8_nightstand": {
      "e": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Chuck's House Cellar - Nightstand"
        ]
      ]
    },
    "breadwood_hallowaylocker": {
      "picklock": [
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "addflag",
          "breadwood_hallowaylocker"
        ],
        [
          "say",
          "The locker contains the key to itself and a few miscellaneous sundries."
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "checklocation",
          "Breadwood Bunkhouse - Footlocker"
        ]
      ]
    },
    "breadwood_mayor": {
      "prob5": [
        [
          "addflag",
          "breadwood_quest5"
        ],
        [
          "incflag",
          "breadwood_quests,1"
        ],
        [
          "rightportrait",
          "mayor"
        ],
        [
          "rightsay",
          "We keep a municipal soup kitchen open to help those who're down on their luck -- which is pretty much everybody 'round here. But we've run out of soup, and need someone to go fetch some more from Soupstock Lode."
        ],
        [
          "say",
          "He gives you a stack of bread bowls to carry the soup in."
        ],
        [
          "checklocation",
          "Breadwood Mayor's Office - Soup Quest Accepted"
        ],
        [
          "if",
          "!hasflag(map_mine5)"
        ],
        [
          "mapunlock",
          "mine5,Soupstock Lode"
        ],
        [
          "addstate",
          "maplocs,=countflags(map_)"
        ],
        [
          "if",
          "$maplocs$>36 && $maplocs$<40"
        ],
        [
          "giveachievement",
          "ach_37maplocs"
        ],
        [
          "sayoption",
          "done",
          "Okay, off I go."
        ]
      ]
    },
    "breadwood_questyjones": {
      "yes": [
        [
          "addflag",
          "breadwood_jonesquest,1"
        ],
        [
          "leftspeak",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Great! Thanks a bundle."
        ],
        [
          "checklocation",
          "Breadwood Bunkhouse - Hobart's Camera"
        ],
        [
          "if",
          "!hasflag(map_cemetery6)"
        ],
        [
          "say",
          "He marks the location of the cemetery on your map."
        ],
        [
          "if",
          "!hasflag(map_cemetery6)"
        ],
        [
          "mapunlock",
          "cemetery6,Petting Cemetery"
        ],
        [
          "addstate",
          "maplocs,=countflags(map_)"
        ],
        [
          "if",
          "$maplocs$>36 && $maplocs$<40"
        ],
        [
          "giveachievement",
          "ach_37maplocs"
        ],
        [
          "sayoption",
          "done",
          "Okay. I'll be back."
        ],
        [
          "sayoption",
          "done",
          "Okay. Owl be back."
        ],
        [
          "sayoption",
          "done",
          "Owlkay. Owl be back. Owl."
        ]
      ]
    },
    "breadwood_spittoon": {
      "seven": [
        [
          "say",
          "Boots, great. Boots full of bandit spit. I hope they have to invent a whole new kind of trenchfoot just for you. I hope they name it after you."
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Breadwood - Spittoon"
        ],
        [
          "incflag",
          "spittoonsopen,1"
        ],
        [
          "option",
          "done",
          "You're just jealous of my sweet new boots."
        ]
      ]
    },
    "cemetery2_alcove1": {
      "take": [
        [
          "say",
          "If this doesn't call for a 'yoink!' sound effect, I don't know what does."
        ],
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - First Skull"
        ]
      ]
    },
    "cemetery2_alcove3": {
      "grab": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "The skull was resting on top of a commemorative spoon! Your treasure-hunting senses are finely honed, though not very discriminating."
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Third Skull"
        ]
      ]
    },
    "cemetery2_ragpile": {
      "inv": [
        [
          "cls"
        ],
        [
          "addflag",
          "cemetery2_ragpile"
        ],
        [
          "say",
          "Amid the other refuse, you find something strange."
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Trash Pile"
        ]
      ]
    },
    "cemetery2_relicnun": {
      "finish": [
        [
          "addflag",
          "cemetery2_quest,2"
        ],
        [
          "rightsay",
          "You've recovered all of the relics! Oh, praise be! Thank you!"
        ],
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "I'm glad to have helped, Sister."
        ],
        [
          "rightsay",
          "I must reward you for your efforts, though. We don't have much, but you might find this handy? One of our old priests left it behind."
        ],
        [
          "checklocation",
          "Old Mission - Holy Relic Quest Completed"
        ],
        [
          "sayoption",
          "done",
          "Cool, thanks!"
        ]
      ]
    },
    "cemetery2_saint2pile": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "Well done!  Now Santa Cortada's in pieces so small they can't do any harm."
        ],
        [
          "addxp",
          "xpreward_c*3"
        ],
        [
          "addflag",
          "cemetery2_saint2"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Santa Cortada Defeated (Item 1)"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Santa Cortada Defeated (Item 2)"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "cemetery2_saint3": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "You put an end to Saint Pope's heresy once and for all."
        ],
        [
          "addxp",
          "xpreward_c*3"
        ],
        [
          "addflag",
          "cemetery2_saint3"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Saint Pope Defeated (Item 1)"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Saint Pope Defeated (Item 2)"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "cemetery2_sarcophagus": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "The bigger they are, the harder they excommunicate."
        ],
        [
          "addxp",
          "xpreward_c*3"
        ],
        [
          "addflag",
          "cemetery2_saint1"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Saint Beefus Defeated (Item 1)"
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Saint Beefus Defeated (Item 2)"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "cemetery2_skullpile2": {
      "pick": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "playsound",
          "Player_Use_Pickaxe"
        ],
        [
          "say",
          "At the center of the pile, you unearth (unskull?) a shiny black stone.  It's making more noise than stones usually do."
        ],
        [
          "checklocation",
          "Old Mission Catacombs - Cemented Skull Pile"
        ],
        [
          "option",
          "done",
          "Weird!"
        ]
      ]
    },
    "cemetery6_touchskeleton": {
      "skeleton3": [
        [
          "say",
          "This is an owl skeleton.  If you want to know how many fireballs it takes to get to the center of an enemy skeleton, just ask an owl."
        ],
        [
          "addstate",
          "bloof,Increase your Spell Damage\\nfor the rest of the day"
        ],
        [
          "if",
          "hasflag(breadwood_jonesquest)==1 && hasitem(quest_owlcamera)"
        ],
        [
          "option",
          "pic",
          "Take a picture of it"
        ],
        [
          "if",
          "hasflag(breadwood_jonesquest)==1 && !hasitem(quest_owlcamera)"
        ],
        [
          "grayoption",
          "nopic",
          "Take a picture of it [Requires the owl camera]"
        ],
        [
          "if",
          "!hasflag(breadwood_jonesquest)==1"
        ],
        [
          "goto",
          "button"
        ]
      ]
    },
    "clowns_camp_fightwin": {
      "dig": [
        [
          "say",
          "You poke around their campsite for a bit, but don't find anything of value apart from the leader's knife and a ticket to the circus. Well, the harmonica maybe, but that clown had his lips all over it. <i>*shudder*</i>"
        ],
        [
          "checklocation",
          "Clown Campsite - Clowns Killed (Item 1)"
        ],
        [
          "checklocation",
          "Clown Campsite - Clowns Killed (Item 2)"
        ],
        [
          "say",
          "You also find a note (in one of the lead clown's pockets... eww). It seems to be orders to check out an abandoned tannery not far from Dirtwater. It's probably a bad idea to let these guys wander around near town, so maybe you should investigate."
        ],
        [
          "if",
          "!hasflag(map_tannery)"
        ],
        [
          "mapunlock",
          "tannery,Danny's Tannery"
        ],
        [
          "addstate",
          "maplocs,=countflags(map_)"
        ],
        [
          "if",
          "$maplocs$>36 && $maplocs$<40"
        ],
        [
          "giveachievement",
          "ach_37maplocs"
        ],
        [
          "addflag",
          "clowns_knowsclowns,2"
        ],
        [
          "addflag",
          "clowns_campcleared,1"
        ],
        [
          "addflag",
          "clowns_killedcamp,1"
        ],
        [
          "addflag",
          "clowns_suspicion,0"
        ],
        [
          "addstate",
          "winbutton,<i>shudder</i>"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "clowns_circus_balloonatalk": {
      "start": [
        [
          "if",
          "hasflag(circus_boughtballoon)"
        ],
        [
          "goto",
          "talk"
        ],
        [
          "rightportrait",
          "balloonclown"
        ],
        [
          "rightsay",
          "Howdy there, @miss@! Interest ya in a toy balloon?"
        ],
        [
          "sayoption",
          "howmuch",
          "How much are they?"
        ],
        [
          "sayoption",
          "colors",
          "What colors do you have?"
        ],
        [
          "sayoption",
          "float",
          "How do you make them float like that?"
        ],
        [
          "sayoption",
          "done",
          "No thanks. Bye."
        ]
      ],
      "buyit": [
        [
          "leftsay",
          "I'll take one."
        ],
        [
          "rightsay",
          "All righty then! Here you go!"
        ],
        [
          "addmeat",
          "-30"
        ],
        [
          "checklocation",
          "Circus - Balloon Vendor"
        ],
        [
          "addflag",
          "circus_boughtballoon"
        ],
        [
          "addflag",
          "clowns_balconvoflag,1"
        ],
        [
          "goto",
          "talk"
        ]
      ]
    },
    "clowns_circus_bobshow": {
      "cont11": [
        [
          "say",
          "You bow to the cheering crowd, carefully keeping your eyes on Barnaby Bob. He bows as well, removing his hat with an elaborate flourish, and then he takes a slip of paper out of it."
        ],
        [
          "rightsay",
          "And as a token of appreciation, I'd like to give our star volunteer a gift: a year's supply of dynamite! Use it in good health!"
        ],
        [
          "say",
          "As he hands you the coupon, the clown leans in close to your ear and whispers:"
        ],
        [
          "rightsay",
          "This was the only warning you'll get, @boy@."
        ],
        [
          "checklocation",
          "Circus - Survived the Main Act"
        ],
        [
          "say",
          "Barnaby Bob waves and blows kisses to the crowd as you climb down from the stage, and then he disappears through the backstage curtain. The audience gradually disperses."
        ],
        [
          "addflag",
          "clowns_showover,1"
        ],
        [
          "if",
          "hasflag(clowns_knowsclowns)<2"
        ],
        [
          "option",
          "uhoh",
          "Welp"
        ],
        [
          "else",
          ""
        ],
        [
          "option",
          "done",
          "Phew"
        ]
      ]
    },
    "clowns_circus_destroyedsafe": {
      "open": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "The dial looks pretty complex and has weird squiggles instead of numbers. Fortunately, the impact knocked it wide open, so that doesn't matter."
        ],
        [
          "say",
          "It contains a few scorched and blackened fragments of what you think might be eggshell, and a pretty nice pair of boots that seem undamaged."
        ],
        [
          "checklocation",
          "Circus - Barnaby Bob's Safe"
        ],
        [
          "exit"
        ]
      ]
    },
    "clowns_circus_foodatalk": {
      "takecap": [
        [
          "checklocation",
          "Circus Lost & Found - Item 1"
        ],
        [
          "addflag",
          "clowns_capsearch,2"
        ],
        [
          "leftsay",
          "Yep, that's the one. Thanks!"
        ],
        [
          "rightsay",
          "No problem, @maam@."
        ],
        [
          "option",
          "leave",
          "Leave"
        ]
      ],
      "takeknife": [
        [
          "checklocation",
          "Circus Lost & Found - Item 2"
        ],
        [
          "addflag",
          "clowns_tookknife,1"
        ],
        [
          "leftsay",
          "Thanks!"
        ],
        [
          "rightsay",
          "Sure, no problem."
        ],
        [
          "option",
          "leave",
          "Leave"
        ]
      ],
      "takehanky": [
        [
          "checklocation",
          "Circus Lost & Found - Item 3"
        ],
        [
          "addflag",
          "clowns_tookhanky,1"
        ],
        [
          "leftsay",
          "Thanks!"
        ],
        [
          "rightsay",
          "Sure, no problem."
        ],
        [
          "option",
          "leave",
          "Leave"
        ]
      ],
      "takesalts": [
        [
          "checklocation",
          "Circus Lost & Found - Item 4"
        ],
        [
          "addflag",
          "clowns_tooksalts,1"
        ],
        [
          "leftsay",
          "Thanks!"
        ],
        [
          "rightsay",
          "Sure, no problem."
        ],
        [
          "option",
          "leave",
          "Leave"
        ]
      ]
    },
    "clowns_circus_foodc": {
      "popup": [
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "say",
          "\"Cotton candy.\" says the clown behind this food stand. \"Come try this... cotton candy.\""
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "\"Cotton candy!\" calls the clown behind this food stand, and then makes a <i>fweeee-oooot!</i> noise with a slide-whistle. \"Come try this just-invented confectionary delight!\""
        ],
        [
          "option",
          "talk",
          "Talk to the vendor"
        ]
      ]
    },
    "clowns_circus_foodctalk": {
      "start": [
        [
          "if",
          "!hasflag(circus_stolewhistle)"
        ],
        [
          "say",
          "The clown blows his slide-whistle again as you approach."
        ],
        [
          "rightportrait",
          "foodclown3"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "Step right up, @miss@. Step up and try one of the world's newest candy ...things."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "<i>Fwoooo-eeeet!</i> Step right up, @miss@! Step up and try one of the world's newest candy sensations!"
        ],
        [
          "sayoption",
          "what",
          "What is it?"
        ],
        [
          "if",
          "hasflag(clowns_whatcotton)==1"
        ],
        [
          "goto",
          "questions"
        ]
      ],
      "what": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "What is it?"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "Cotton candy. The finest spun sugar, created through a revolutionary new process. It's so light and sweet and fluffy, it's... well, it's really great."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Cotton candy! The finest -- in several senses of the word -- spun sugar, created through a revolutionary new process! It's so light and sweet and fluffy, it's like eating butterfly dreams and kitten wishes! <i>Fwoooooo-eeeeeet!</i>"
        ],
        [
          "addflag",
          "clowns_whatcotton,1"
        ],
        [
          "goto",
          "questions"
        ]
      ],
      "cotton": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "So it isn't actually made of cotton?"
        ],
        [
          "rightsay",
          "What? No. Cotton is indigestible, no matter how much chocolate you cover it with."
        ],
        [
          "leftsay",
          "Found that out the hard way, did you?"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "...I don't want to talk about it."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "<i>Fweeeeee-oooooot!</i>"
        ],
        [
          "sayoption",
          "howmade",
          "How do you make it?"
        ],
        [
          "sayoption",
          "howmuch",
          "How much does it cost?"
        ],
        [
          "sayoption",
          "leave",
          "No thanks."
        ]
      ],
      "invented": [
        [
          "leftsay",
          "You invented it?"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "No, some dentists down south were the first ones. But after hearing about it, I managed to figure out how it works, pretty much."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Not as such -- couple dentists down south were the first ones. Dentists! Go figure! <i>Fweeeeeeee-oooooot!</i> But after hearing about it, I managed to figure out how it works. Made a few improvements with my design, too!"
        ],
        [
          "sayoption",
          "please",
          "Now I'm really curious."
        ],
        [
          "sayoption",
          "howmuch",
          "How much does it cost?"
        ],
        [
          "sayoption",
          "leave",
          "No thanks."
        ]
      ],
      "please": [
        [
          "leftsay",
          "Now I'm really curious."
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "Nope. These secrets in this box are for nobody's eyes but my own. I can sell you some cotton candy, though."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Sorry, @miss@! These secrets in this box are for nobody's eyes but my own! <i>Fweeee-oooot!</i> I'll be happy to sell you some cotton candy, though!"
        ],
        [
          "addflag",
          "clowns_wantcottonsecret,1"
        ],
        [
          "sayoption",
          "howmuch",
          "How much does it cost?"
        ],
        [
          "sayoption",
          "leave",
          "No thanks."
        ]
      ],
      "howmuch": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "How much does it cost?"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "Just 300 Meat! ...or my slide-whistle, if you happen to find it. I really miss my slide-whistle."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Just 300 Meat! <i>Fwooooo-eeeeeet!</i>"
        ],
        [
          "if",
          "player.meat>=300 || (hasflag(circus_stolewhistle) && hasitem(quest_slidewhistle))"
        ],
        [
          "sayoption",
          "buy",
          "I'll take one."
        ],
        [
          "if",
          "player.meat<300 && !hasitem(quest_slidewhistle) && hasflag(clowns_whistlebox)<1"
        ],
        [
          "graysayoption",
          "buy",
          "I'll take one. [Requires 300 Meat]"
        ],
        [
          "if",
          "player.meat<300 && hasflag(clowns_whistlebox)==1"
        ],
        [
          "graysayoption",
          "buy",
          "I'll take one. [Requires 300 Meat or slide-whistle]"
        ],
        [
          "if",
          "hasflag(clowns_whistlebox)==1"
        ],
        [
          "sayoption",
          "sawwhistle",
          "You know, I think I saw a slide-whistle..."
        ],
        [
          "sayoption",
          "leave",
          "Never mind."
        ]
      ],
      "buy": [
        [
          "leftsay",
          "I'll take one."
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "rightsay",
          "Okay, that'll be 300 Meat."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Alrighty! That'll be 300 Meat! <i>Fwooooo-eeeeeeeet!</i>"
        ],
        [
          "if",
          "player.meat>=300"
        ],
        [
          "sayoption",
          "paymeat",
          "Okay. [300 Meat]"
        ],
        [
          "else",
          ""
        ],
        [
          "grayoption",
          "paymeat",
          "Okay. [Requires 300 Meat]"
        ],
        [
          "if",
          "player.meat>=300 && hasflag(clowns_stealwhistle)==1 && hasflag(clowns_wantcottonsecret)==1"
        ],
        [
          "sayoption",
          "stealwhistle",
          "Okay. [300 Meat; Steal his whistle]"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle) && hasitem(quest_slidewhistle)"
        ],
        [
          "sayoption",
          "paywhistle",
          "I found this slide-whistle. Is it yours?"
        ],
        [
          "sayoption",
          "leave",
          "Hmm, never mind."
        ]
      ],
      "stealwhistle": [
        [
          "leftsay",
          "Okay."
        ],
        [
          "addmeat",
          "-300"
        ],
        [
          "say",
          "The clown puts his slide whistle down on the counter and ducks underneath; you quickly snatch the whistle and slip it into your pocket."
        ],
        [
          "checklocation",
          "Circus - Stole the Slide Whistle"
        ],
        [
          "addflag",
          "circus_stolewhistle"
        ],
        [
          "option",
          "stealwhistle2",
          "Nice."
        ]
      ],
      "front": [
        [
          "say",
          "You quickly shut the box and dart back to the front of the counter just before the clown returns. He gives you a momentary suspicious look, but is quickly distracted by the joy of getting his slide-whistle back."
        ],
        [
          "addflag",
          "clowns_stealwhistle,2"
        ],
        [
          "addflag",
          "clowns_whistlebox,0"
        ],
        [
          "delflag",
          "circus_stolewhistle"
        ],
        [
          "incflag",
          "clowns_suspicion,1"
        ],
        [
          "rightsay",
          "<i>Fwoooooo-eeeeeeeet!</i> You were right! Thank you so much!"
        ],
        [
          "say",
          "The clown carefully puts his slide whistle in his shirt pocket, ducks underneath the counter, and comes back up with a paper cone, which he holds in the mouth of the metal box. He pulls down a lever and the box emits a thin squealing sound as something resembling glittering white spun sugar collects around the paper cone in a fluffy cloud."
        ],
        [
          "rightsay",
          "Here you go! Enjoy! <i>Fwooooo-eeeeeeeeet!</i>"
        ],
        [
          "checklocation",
          "Circus - Slide Whistle Reward"
        ],
        [
          "incflag",
          "clowns_discovery,1"
        ],
        [
          "sayoption",
          "leave",
          "...Thanks."
        ]
      ],
      "paymeat": [
        [
          "leftsay",
          "Okay."
        ],
        [
          "addmeat",
          "-300"
        ],
        [
          "if",
          "hasflag(clowns_stealwhistle)==2"
        ],
        [
          "say",
          "The clown carefully puts his slide whistle in his shirt pocket, ducks underneath the counter, and comes back up with a paper cone, which he holds in the mouth of the metal box. He pulls down a lever and the machine makes a thin squealing sound as glittering white spun sugar collects around the paper cone in a fluffy cloud."
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "say",
          "The clown ducks under the counter and comes back up with a paper cone, which he holds in the mouth of the metal box. He pulls down a lever and the machine makes a thin squealing sound as glittering white spun sugar collects around the paper cone in a fluffy cloud."
        ],
        [
          "if",
          "!hasflag(circus_stolewhistle) && hasflag(clowns_stealwhistle)<2"
        ],
        [
          "say",
          "The clown puts his slide whistle down on the counter, ducks underneath, and comes back up with a paper cone, which he holds in the mouth of the metal box. He pulls down a lever and the machine makes a thin squealing sound as glittering white spun sugar collects around the paper cone in a fluffy cloud."
        ],
        [
          "if",
          "!hasflag(circus_stolewhistle) && hasflag(clowns_stealwhistle)<2"
        ],
        [
          "addflag",
          "clowns_stealwhistle,1"
        ],
        [
          "if",
          "hasflag(circus_stolewhistle)"
        ],
        [
          "say",
          "Here you go."
        ],
        [
          "else",
          ""
        ],
        [
          "rightsay",
          "Here you go! Enjoy! <i>Fwooooo-eeeeeeeeet!</i>"
        ],
        [
          "additem",
          "food_cottoncandy"
        ],
        [
          "sayoption",
          "leave",
          "Thanks."
        ]
      ],
      "paywhistle": [
        [
          "leftsay",
          "I found this slide-whistle. Is it yours?"
        ],
        [
          "rightsay",
          "Oh my gosh, it is! Thank you so much!"
        ],
        [
          "removeitem",
          "quest_slidewhistle"
        ],
        [
          "addflag",
          "clowns_stealwhistle,2"
        ],
        [
          "delflag",
          "circus_stolewhistle"
        ],
        [
          "say",
          "The clown carefully puts his slide whistle in his shirt pocket, ducks underneath the counter, and comes back up with a paper cone, which he holds in the mouth of the metal box. He pulls down a lever and the machine makes a thin squealing sound as glittering white spun sugar collects around the paper cone in a fluffy cloud."
        ],
        [
          "rightsay",
          "Here you go, @miss@! It's on the house!"
        ],
        [
          "checklocation",
          "Circus - Slide Whistle Reward"
        ],
        [
          "rightsay",
          "<i>Fwooooooooo-eeeeeeeeeeeeeeeet!</i>"
        ],
        [
          "sayoption",
          "leave",
          "Thanks."
        ]
      ]
    },
    "clowns_circus_gamemox": {
      "level3": [
        [
          "say",
          "You take careful aim and pop off rounds (and balloons) for as long as you can hold the gun together."
        ],
        [
          "rightsay",
          "Hey, not bad! Not bad at all! Not enough balloons for our grand prize, but it's worth a li'l something!"
        ],
        [
          "playsound",
          "carnival_balloon_game_hit"
        ],
        [
          "if",
          "!hasflag(circus_game3prize)"
        ],
        [
          "say",
          "He gives you a little toy stuffed cat."
        ],
        [
          "if",
          "!hasflag(circus_game3prize)"
        ],
        [
          "checklocation",
          "Circus - Test Your Aim (Small Prize)"
        ],
        [
          "if",
          "hasflag(circus_game3prize)"
        ],
        [
          "rightspeak",
          "Limit one kitten per customer, though."
        ],
        [
          "addflag",
          "circus_game3prize"
        ],
        [
          "option",
          "nothanks",
          "Okay"
        ]
      ],
      "level4": [
        [
          "say",
          "I'm not sure exactly how a jaguar shoots, but presumably it's pretty good. You clear nearly the entire wall of balloons, and the clown looks genuinely impressed."
        ],
        [
          "rightsay",
          "Well I'll be! Looks like you win! Congratulations on the finest shooting I've seen in quite a time!"
        ],
        [
          "playsound",
          "carnival_balloon_game_hit"
        ],
        [
          "if",
          "hasflag(circus_gameticketprize)"
        ],
        [
          "goto",
          "already"
        ],
        [
          "checklocation",
          "Circus - Test Your ____ (Ticket Prize)"
        ],
        [
          "addflag",
          "circus_gameticketprize"
        ],
        [
          "if",
          "!hasflag(clowns_showover)"
        ],
        [
          "rightsay",
          "The show will be starting soon, so don't miss it!"
        ],
        [
          "sayoption",
          "nothanks",
          "Thanks!"
        ]
      ],
      "showover": [
        [
          "say",
          "He hands you a large and reasonably well-made toy stuffed cat."
        ],
        [
          "checklocation",
          "Circus - Test Your Aim (Large Prize)"
        ],
        [
          "addflag",
          "circus_game3prize2"
        ],
        [
          "sayoption",
          "nothanks",
          "Neat!"
        ]
      ]
    },
    "clowns_circus_gamemus": {
      "level3": [
        [
          "playsound",
          "clank1"
        ],
        [
          "say",
          "You pick up the mallet, take a deep breath, and smash that lever with a mighty swing. The little bell-striker makes it nearly -- but not quite! -- to the bell."
        ],
        [
          "rightsay",
          "Well now! That was <i>very</i> close. Not a grand prize winner, but it's the best I've seen today and that's got to be worth something!"
        ],
        [
          "if",
          "!hasflag(circus_game1prize)"
        ],
        [
          "say",
          "He hands you a small teddy bear."
        ],
        [
          "if",
          "!hasflag(circus_game1prize)"
        ],
        [
          "checklocation",
          "Circus - Test Your Might (Small Prize)"
        ],
        [
          "if",
          "hasflag(circus_game1prize)"
        ],
        [
          "rightspeak",
          "Limit one per customer on the teddy bears, though."
        ],
        [
          "addflag",
          "circus_game1prize"
        ],
        [
          "option",
          "nothanks",
          "Okay"
        ]
      ],
      "level4": [
        [
          "playsound",
          "carnival_strength_game"
        ],
        [
          "say",
          "You pick up the mallet, toss it end-over-end and catch it a couple of times to test its weight, and casually slam it into the lever."
        ],
        [
          "say",
          "<i>DING!</i>"
        ],
        [
          "rightsay",
          "Well I'll be! That's some gen-u-ine muscle you've got on you, @fella@! Looks like you're a winner!"
        ],
        [
          "if",
          "hasflag(circus_gameticketprize)"
        ],
        [
          "goto",
          "already"
        ],
        [
          "checklocation",
          "Circus - Test Your ____ (Ticket Prize)"
        ],
        [
          "addflag",
          "circus_gameticketprize"
        ],
        [
          "if",
          "!hasflag(clowns_showover)"
        ],
        [
          "rightsay",
          "The show will be starting soon, so don't miss it!"
        ],
        [
          "sayoption",
          "nothanks",
          "Thanks!"
        ]
      ],
      "showover": [
        [
          "say",
          "He hands you a large and reasonably well-made teddy bear."
        ],
        [
          "checklocation",
          "Circus - Test Your Might (Large Prize)"
        ],
        [
          "addflag",
          "circus_game1prize2"
        ],
        [
          "sayoption",
          "nothanks",
          "Neat!"
        ]
      ]
    },
    "clowns_circus_gamemys": {
      "level3": [
        [
          "say",
          "The clown starts picking cards out of the deck and holding them up with the backs to you. You manage to guess about two-thirds of them."
        ],
        [
          "rightsay",
          "Say, that's not bad! Not enough to win the grand prize, but you deserve some recognition for that, my friend."
        ],
        [
          "if",
          "!hasflag(circus_game2prize)"
        ],
        [
          "say",
          "He gives you a little toy stuffed owl."
        ],
        [
          "if",
          "!hasflag(circus_game2prize)"
        ],
        [
          "checklocation",
          "Circus - Test Your Mind (Small Prize)"
        ],
        [
          "if",
          "hasflag(circus_game2prize)"
        ],
        [
          "rightspeak",
          "Limit one per customer on the owls, though."
        ],
        [
          "addflag",
          "circus_game2prize"
        ],
        [
          "option",
          "nothanks",
          "Okay"
        ]
      ],
      "level4": [
        [
          "say",
          "The clown starts picking cards out of the deck and holding them up with the backs to you. You rattle off their names as fast as he can pick them up. He seems genuinely impressed."
        ],
        [
          "rightsay",
          "That, @sir@, is so remarkable as to be practically frightening. Looks like we have a winner!"
        ],
        [
          "if",
          "hasflag(circus_gameticketprize)"
        ],
        [
          "goto",
          "already"
        ],
        [
          "checklocation",
          "Circus - Test Your ____ (Ticket Prize)"
        ],
        [
          "addflag",
          "circus_gameticketprize"
        ],
        [
          "if",
          "!hasflag(clowns_showover)"
        ],
        [
          "rightsay",
          "The show will be starting soon, so don't miss it!"
        ],
        [
          "sayoption",
          "nothanks",
          "Thanks!"
        ]
      ],
      "showover": [
        [
          "say",
          "He hands you a large and reasonably well-made plush owl."
        ],
        [
          "checklocation",
          "Circus - Test Your Mind (Large Prize)"
        ],
        [
          "addflag",
          "circus_game2prize2"
        ],
        [
          "sayoption",
          "nothanks",
          "Neat!"
        ]
      ]
    },
    "clowns_circus_kidtalk": {
      "post": [
        [
          "if",
          "hasitem(misc_balloon) && hasflag(clowns_tradedkid)==0"
        ],
        [
          "goto",
          "trade"
        ],
        [
          "rightportrait",
          "kid"
        ],
        [
          "rightsay",
          "Hello again, @maam@! Thanks for finding my lucky bottle cap!"
        ],
        [
          "sayoption",
          "leave",
          "No problem, kid."
        ]
      ],
      "okay": [
        [
          "rightsay",
          "Great! Here you go!"
        ],
        [
          "checklocation",
          "Circus Kid - Lucky Cap Trade"
        ],
        [
          "removeitem",
          "misc_balloon,1"
        ],
        [
          "addflag",
          "clowns_tradedkid,1"
        ],
        [
          "rightsay",
          "Thanks again, @maam@!"
        ],
        [
          "say",
          "The kid runs off with his new balloon."
        ],
        [
          "option",
          "leave",
          "Leave"
        ]
      ]
    },
    "clowns_circus_ticketbooth": {
      "handstamp": [
        [
          "if",
          "hasflag(clowns_suspicion)<=1"
        ],
        [
          "say",
          "The ticket booth clown recognizes you and waves you toward the circus entrance."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)==2"
        ],
        [
          "say",
          "The ticket booth clown eyes you warily and waves you through the circus entrance."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)==3"
        ],
        [
          "say",
          "The ticket booth clown kind of gives you the stink-eye, but he waves you through the circus entrance anyway."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)>3"
        ],
        [
          "say",
          "The ticket booth clown just sort of glares at you."
        ],
        [
          "if",
          "!hasflag(circus_ticketbooth_gotcheck) && !hasflag(circus_ticketbooth_checkintro)"
        ],
        [
          "sayoption",
          "buycheckintro",
          "I'd like to buy another ticket."
        ],
        [
          "if",
          "!hasflag(circus_ticketbooth_gotcheck) && hasflag(circus_ticketbooth_checkintro)"
        ],
        [
          "sayoption",
          "buycheckretry",
          "I wanna buy that thing."
        ],
        [
          "sayoption",
          "done",
          "Leave him alone"
        ]
      ],
      "buycheckintro": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "I'd like to buy another ticket."
        ],
        [
          "say",
          "The clown cocks an eyebrow and looks back and forth between you and @pardnername@."
        ],
        [
          "rightportrait",
          "clown"
        ],
        [
          "rightsay",
          "Only one ticket per person, and I already told you pardners get in free."
        ],
        [
          "leftsay",
          "Okay, but like, you must have something else I can buy?  I really need to buy something here."
        ],
        [
          "rightsay",
          "...@Sir@, this is a ticket booth."
        ],
        [
          "say",
          "He glances around his stand before bending over, grabbing something from beneath the booth."
        ],
        [
          "rightsay",
          "Alright look, you could buy this thing?  No idea where it came from or who it belongs to.  You could have it for... let's say 1,000 Meat?"
        ],
        [
          "addflag",
          "circus_ticketbooth_checkintro"
        ],
        [
          "goto",
          "buyopts"
        ]
      ],
      "buycheckretry": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "I wanna buy that thing."
        ],
        [
          "say",
          "The clown shrugs."
        ],
        [
          "rightportrait",
          "clown"
        ],
        [
          "rightsay",
          "Sure, it's your money."
        ],
        [
          "goto",
          "buyopts"
        ]
      ],
      "buyopts": [
        [
          "if",
          "player.meat>=1000"
        ],
        [
          "option",
          "buycheck",
          "Buy the \"thing\" [1,000 Meat]"
        ],
        [
          "else",
          ""
        ],
        [
          "greyoption",
          "cantbuy",
          "Buy the \"thing\" [Requires 1,000 Meat]"
        ],
        [
          "option",
          "done",
          "On second thought, maybe later"
        ]
      ],
      "buycheck": [
        [
          "say",
          "You drop the Meat on the booth and he pushes the <i>thing</i> over to you."
        ],
        [
          "rightsay",
          "Pleasure doing business with you, I guess."
        ],
        [
          "addmeat",
          "-1000"
        ],
        [
          "checklocation",
          "Circus - Ticket Booth"
        ],
        [
          "addflag",
          "circus_ticketbooth_gotcheck"
        ],
        [
          "sayoption",
          "done",
          "Thanks."
        ]
      ],
      "done": [
        [
          "exit"
        ]
      ]
    },
    "clowns_circus_tickettalk": {
      "buyfihun": [
        [
          "addmeat",
          "-500"
        ],
        [
          "leftsay",
          "All right."
        ],
        [
          "rightsay",
          "Let me just stamp your hand for re-entry... there you go. Enjoy the show!"
        ],
        [
          "checklocation",
          "Circus - Ticket Booth"
        ],
        [
          "addflag",
          "circus_ticketbooth_gotcheck"
        ],
        [
          "leftsay",
          "What about my pardner?"
        ],
        [
          "rightsay",
          "Pardners get in free."
        ],
        [
          "option",
          "done",
          "Thanks."
        ]
      ],
      "buyit": [
        [
          "leftsay",
          "Ugh, fine."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)<2"
        ],
        [
          "say",
          "You unload 5,000 Meat onto the counter. The clown looks surprised."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)==2"
        ],
        [
          "say",
          "You unload 7,500 Meat onto the counter. The clown looks surprised."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)>2"
        ],
        [
          "say",
          "You unload 10,000 Meat onto the counter. The clown looks surprised."
        ],
        [
          "if",
          "hasflag(clowns_suspicion)<2"
        ],
        [
          "addmeat",
          "-5000"
        ],
        [
          "if",
          "hasflag(clowns_suspicion)==2"
        ],
        [
          "addmeat",
          "-7500"
        ],
        [
          "if",
          "hasflag(clowns_suspicion)>2"
        ],
        [
          "addmeat",
          "-10000"
        ],
        [
          "rightsay",
          "Well, uh... okay! I guess you've bought yourself a ticket! Let me just stamp your hand for re-entry... there we go. Enjoy the show!"
        ],
        [
          "leftsay",
          "What about my pardner?"
        ],
        [
          "rightsay",
          "Pardners get in free."
        ],
        [
          "checklocation",
          "Circus - Ticket Booth"
        ],
        [
          "addflag",
          "circus_ticketbooth_gotcheck"
        ],
        [
          "sayoption",
          "done",
          "Thanks."
        ]
      ],
      "outfox5": [
        [
          "leftsay",
          "I don't know, this still seems shady to me. I'm pretty sure you're hiding something. Maybe something you wouldn't want the marshals to find out about..."
        ],
        [
          "rightsay",
          "Hey, wow, jeez @mister@! Fine, you win -- look, it's on the house, okay? Just gimme your hand so I can stamp you for re-entry. ...There. Good grief."
        ],
        [
          "leftsay",
          "Thanks!"
        ],
        [
          "rightsay",
          "Yeah, don't mention it. Literally, do not mention it."
        ],
        [
          "checklocation",
          "Circus - Ticket Booth"
        ],
        [
          "addflag",
          "circus_ticketbooth_gotcheck"
        ],
        [
          "incflag",
          "clowns_suspicion,1"
        ],
        [
          "option",
          "done",
          "Leave the ticket booth"
        ]
      ],
      "hornswoggle4": [
        [
          "leftsay",
          "That's still outside the normal price range."
        ],
        [
          "rightsay",
          "Hey, come on, we had to travel a long way to get here, we've got expenses and... stuff."
        ],
        [
          "leftsay",
          "I would hate to discover that you were hiding anything from me."
        ],
        [
          "rightsay",
          "Of course not! Of course not. Look, I tell you what, you're a VIP, you get the VIP ticket -- on the house. Lemme just stamp your hand for re-entry... Okay! Enjoy the show!"
        ],
        [
          "checklocation",
          "Circus - Ticket Booth"
        ],
        [
          "addflag",
          "circus_ticketbooth_gotcheck"
        ],
        [
          "leftsay",
          "Thank you."
        ],
        [
          "rightsay",
          "No problem! No problem!"
        ],
        [
          "option",
          "done",
          "Leave the ticket booth"
        ]
      ]
    },
    "clowns_crimescene_knapsack": {
      "searchit": [
        [
          "say",
          "Most of the contents are trashed from being stomped on. You do find a dented can of \"potted meat\", though.<p>You also notice that the knapsack has a knife sheath strapped to the side, but you don't see the knife anywhere."
        ],
        [
          "checklocation",
          "Destroyed Campsite - Knapsack"
        ],
        [
          "addflag",
          "clowns_knapsack,1"
        ],
        [
          "exit"
        ]
      ]
    },
    "clowns_tannery_bonepile": {
      "search": [
        [
          "say",
          "You poke around in the tattered shreds of his clothes and find an old key."
        ],
        [
          "addflag",
          "clowns_tannerybones,1"
        ],
        [
          "checklocation",
          "Danny's Tannery - Center Skeleton"
        ]
      ]
    },
    "clowns_tannery_hidingguy": {
      "cowsbane": [
        [
          "addflag",
          "clowns_tannery_gotbane,1"
        ],
        [
          "leftsay",
          "What's cowsbane?"
        ],
        [
          "rightsay",
          "It's an herb used for tanning leather. You can't grow it in large batches any more because cows show up and wreck the place, so there's other stuff we generally use for pig leather and so on. It's not as good though."
        ],
        [
          "leftsay",
          "Cows wreck your herb gardens?"
        ],
        [
          "rightsay",
          "Yeah, if you're growing more than about a flowerpot's worth, they get wind of it somehow. They hate the stuff. Can't figure why. Here, I've got a few extra seeds you can have. Be careful with them."
        ],
        [
          "checklocation",
          "Danny's Tannery (St. Rage Shed) - Grady's Cowsbane Seeds"
        ],
        [
          "addflag",
          "clowns_knowscowsbane"
        ],
        [
          "sayoption",
          "howlong",
          "How long have you been in here?"
        ],
        [
          "sayoption",
          "rescued",
          "Well, I took care of the clowns and the cows..."
        ]
      ]
    },
    "clowns_tannery_invis1.6": {
      "win2": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "Whew, what a mess that fight was. And what a mess the floor is afterward. At least now you're free to poke around the scenery."
        ],
        [
          "addflag",
          "clowns_tan3clear,1"
        ],
        [
          "addflag",
          "clowns_knowsclowns,2"
        ],
        [
          "addxp",
          "@xpreward_c@*6"
        ],
        [
          "say",
          "You take that nasty clown's knife, and oh look! They also had a key!"
        ],
        [
          "checklocation",
          "Danny's Tannery - Center Fight (Item 1)"
        ],
        [
          "checklocation",
          "Danny's Tannery - Center Fight (Item 2)"
        ],
        [
          "addstate",
          "winbutton,Let's get to it"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "clowns_tannery_toolbox": {
      "openit": [
        [
          "say",
          "Besides the miscellaneous scraps and junk that naturally accumulate in toolboxes, you find a handful of nails and a pair of sizeable, sharp, and serious-looking scissors."
        ],
        [
          "checklocation",
          "Danny's Tannery - Toolbox (Item 1)"
        ],
        [
          "checklocation",
          "Danny's Tannery - Toolbox (Item 2)"
        ],
        [
          "addflag",
          "clowns_tantoolbox,1"
        ]
      ]
    },
    "cre_brotoybox": {
      "getpuz": [
        [
          "cls"
        ],
        [
          "say",
          "Heh.  He loves stuff like this."
        ],
        [
          "checklocation",
          "Your Family's Farm - Rufus' Toybox"
        ],
        [
          "markused"
        ]
      ]
    },
    "cre_dadconvo": {
      "leaving": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftspeak",
          "$lastoption$"
        ],
        [
          "say",
          "His lip quivers a little."
        ],
        [
          "if",
          "player.class==1"
        ],
        [
          "addstate",
          "heirloom,your grandmother's brass knuckles"
        ],
        [
          "if",
          "player.class==2"
        ],
        [
          "addstate",
          "heirloom,your grandmother's favorite can of beans"
        ],
        [
          "if",
          "player.class==3"
        ],
        [
          "addstate",
          "heirloom,your grandmother's briefcase full of snakes"
        ],
        [
          "rightpicture",
          "portrait_dad"
        ],
        [
          "rightspeak",
          "Listen, I... want you to have this.  It's $heirloom$."
        ],
        [
          "checklocation",
          "Your Family's Farm - Father's Gift"
        ],
        [
          "addflag",
          "cre_dad,1"
        ],
        [
          "option",
          "thankyou",
          "Thank him"
        ]
      ]
    },
    "cre_initsouvenirshelf": {
      "start": [
        [
          "if",
          "!hasflag(dlc_enabled) || hasflag(cre_gotsouvenirs)"
        ],
        [
          "exit"
        ],
        [
          "changeelementproperty",
          "souvenirshelf,decal,decal_gmshotglass,20,53"
        ],
        [
          "changeelementproperty",
          "souvenirshelf,decal1,decal_spiderring,-25,50"
        ]
      ]
    },
    "cre_mother": {
      "mom3": [
        [
          "leftspeak",
          "A present?"
        ],
        [
          "rightspeak",
          "Yep!  It's that book you wanted for Crimbo.  I know it's early, but..."
        ],
        [
          "sayoption",
          "book",
          "The one about picking locks?  Oh boy!"
        ]
      ],
      "book": [
        [
          "leftspeak",
          "The one about picking locks?  Oh boy!"
        ],
        [
          "rightspeak",
          "That's the one!  Enjoy it."
        ],
        [
          "checklocation",
          "Your Family's Farm - Mother's Gift"
        ],
        [
          "addnpcstoreitem",
          "buttonwillow,book_foragin,1,1500"
        ],
        [
          "addnpcstoreitem",
          "breadwood,book_dickerin,1,2500"
        ],
        [
          "goto",
          "end"
        ]
      ]
    },
    "cre_souvenirshelf": {
      "e": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "addflag",
          "cre_gotsouvenirs"
        ],
        [
          "checklocation",
          "Your Family's Farm - Souvenir Shelf (Item 1)"
        ],
        [
          "checklocation",
          "Your Family's Farm - Souvenir Shelf (Item 2)"
        ]
      ]
    },
    "cre_yourbooks": {
      "coolbook": [
        [
          "cls"
        ],
        [
          "say",
          "Oh hey, this one might come in handy."
        ],
        [
          "checklocation",
          "Your Family's Farm - Your Bookcase"
        ]
      ]
    },
    "daveyard_bonepile": {
      "dig": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "It's mostly just boring broken bones, but you do find a skull with a weird tag on it..."
        ],
        [
          "checklocation",
          "The Daveyard - Far-Right Bone PIle"
        ],
        [
          "exit"
        ]
      ]
    },
    "daveyard_davegrave": {
      "dig3": [
        [
          "say",
          "You finally manage to reach all the way to the bottom of the bag, and retrieve a sodden lump from the bottom."
        ],
        [
          "say",
          "You unglob the wad and dry it off, then wash your arm in a nearby ditch."
        ],
        [
          "say",
          "This better be worth it."
        ],
        [
          "checklocation",
          "The Daveyard - Dave J's Grave"
        ],
        [
          "option",
          "done",
          "Leave"
        ]
      ]
    },
    "daveyard_sarcophagus": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "daveyard_beatdave"
        ],
        [
          "say",
          "You put a stop to that skeleton's magical dancing."
        ],
        [
          "addxp",
          "xpreward_a*12"
        ],
        [
          "say",
          "You help yourself to his sweet knife."
        ],
        [
          "checklocation",
          "The Daveyard Mausoleum - The Skeleton of Dave B. Defeated"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "daveyard_stone1": {
      "digup": [
        [
          "addflag",
          "cemetery1_dugboots"
        ],
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Shovel"
        ],
        [
          "say",
          "You dig up the grave, just to check the veracity of the epitaph."
        ],
        [
          "say",
          "Sure enough -- boots but no pants!"
        ],
        [
          "checklocation",
          "The Daveyard - First Grave"
        ],
        [
          "exit"
        ]
      ]
    },
    "daveyard_stone3": {
      "popup": [
        [
          "say",
          "HERE LIES<p>DAVE J<p>1826-1884<p><i>Ra-pa-pa-pow!</i>"
        ],
        [
          "if",
          "hasflag(dirtwater_chefquest)==4 && hasitem(shovel)"
        ],
        [
          "option",
          "dig",
          "Dig up the grave [shovel]"
        ],
        [
          "if",
          "hasflag(dirtwater_chefquest)==4 && !hasitem(shovel)"
        ],
        [
          "grayoption",
          "pig",
          "Dig up the grave [Requires shovel]"
        ],
        [
          "exit"
        ]
      ]
    },
    "daveyard_wastedcultist": {
      "digthru": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You dig through the rags and find a few things that look like they're worth keeping."
        ],
        [
          "checklocation",
          "The Daveyard Mausoleum - Rag Pile (Item 1)"
        ],
        [
          "checklocation",
          "The Daveyard Mausoleum - Rag Pile (Item 2)"
        ],
        [
          "checklocation",
          "The Daveyard Mausoleum - Rag Pile (Item 3)"
        ],
        [
          "goto",
          "tokencontinue"
        ]
      ]
    },
    "dirtwater_bartender": {
      "piano2": [
        [
          "leftsay",
          "Hmm... Maybe my info's too old. I found a note from some travelers that passed through here about eight years ago."
        ],
        [
          "rightsay",
          "Ohhh. Yeah, that was the <i>previous</i> bartender. He had a, uh, a little trick he used to offer to show people. It's what got him fired, eventually. That senator's wife wasn't amused."
        ],
        [
          "say",
          "He rummages around under the bar for a minute, then blows the dust off a tiny piano, about nine inches tall."
        ],
        [
          "rightsay",
          "Here, you can keep the piano, so long as you don't ask me about the trick."
        ],
        [
          "checklocation",
          "Dirtwater Saloon - Bartender's Mini Piano"
        ],
        [
          "sayoption",
          "done",
          "Thanks!"
        ]
      ]
    },
    "dirtwater_chef": {
      "give2": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "removeitem",
          "quest_chefpepper"
        ],
        [
          "rightsay",
          "Ah, a nice big one. That'll last a while. Good going."
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "addxp",
          "xpreward_a"
        ],
        [
          "addflag",
          "dirtwater_chefquest,3"
        ],
        [
          "rightsay",
          "Okay, so, if you're still looking for stuff to do, I need someone to go check my mail. I ordered a new saut knife, but I haven't got time to go fetch it myself. Here's the key to my post office box."
        ],
        [
          "checklocation",
          "Dirtwater Saloon - Chef's Mail Key"
        ],
        [
          "sayoption",
          "done",
          "All right."
        ]
      ],
      "give4": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "removeitem",
          "quest_secretsauce"
        ],
        [
          "rightsay",
          "Hey, thanks a million, buddy!  Now my slop will be world-famous!"
        ],
        [
          "addflag",
          "dirtwater_chefquest,5"
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "addxp",
          "xpreward_a"
        ],
        [
          "rightsay",
          "Here, let me give you a little something for all your trouble. It fell in the slop, but it's still good."
        ],
        [
          "checklocation",
          "Dirtwater Saloon - Chef's Quest Complete"
        ],
        [
          "sayoption",
          "done",
          "All in a day's work!"
        ]
      ]
    },
    "dirtwater_flowergirl": {
      "popup": [
        [
          "if",
          "hasflag(dirtwater_boughtflowers)"
        ],
        [
          "goto",
          "no"
        ],
        [
          "say",
          "This little girl is selling flowers."
        ],
        [
          "if",
          "meat>=50"
        ],
        [
          "option",
          "e",
          "Buy some [50 Meat]"
        ],
        [
          "else",
          ""
        ],
        [
          "grayoption",
          "erf",
          "Buy some [50 Meat]"
        ]
      ],
      "e": [
        [
          "addflag",
          "dirtwater_boughtflowers"
        ],
        [
          "addmeat",
          "-50"
        ],
        [
          "checklocation",
          "Dirtwater - Flower Girl"
        ],
        [
          "speechbubble",
          "flowergirl,0,60",
          "Thank you @mister@!"
        ]
      ]
    },
    "dirtwater_poboxes": {
      "popup": [
        [
          "if",
          "hasitem(quest_chefkey)"
        ],
        [
          "queue"
        ],
        [
          "runscript",
          "dirtwater_poboxes_open"
        ],
        [
          "else",
          ""
        ],
        [
          "if",
          "hasitem(quest_fort3key)"
        ],
        [
          "queue"
        ],
        [
          "runscript",
          "dirtwater_poboxes_open"
        ],
        [
          "say",
          "A big cabinet of locked post-office boxes."
        ]
      ]
    },
    "dirtwater_poboxes_open": {
      "start": [
        [
          "if",
          "hasitem(quest_chefkey)"
        ],
        [
          "say",
          "You find P. O. box 441, the one that belongs to the chef at the Jewel."
        ],
        [
          "if",
          "hasitem(quest_fort3key)"
        ],
        [
          "say",
          "You find P. O. box 114, for which you found the key at Fort Treason."
        ],
        [
          "if",
          "hasitem(quest_chefkey)"
        ],
        [
          "option",
          "open441",
          "Open box 441"
        ],
        [
          "if",
          "hasitem(quest_fort3key)"
        ],
        [
          "option",
          "open114",
          "Open box 114"
        ],
        [
          "option",
          "done",
          "Leave"
        ]
      ],
      "open441": [
        [
          "say",
          "You open the box and a torrent of junk mail falls out to reveal a knife, just sitting loose in the box."
        ],
        [
          "say",
          "You pick it up."
        ],
        [
          "checklocation",
          "Dirtwater Post Office - P.O. Box 441"
        ],
        [
          "option",
          "done",
          "Back to the chef!"
        ]
      ],
      "open114": [
        [
          "say",
          "You open the box.  It's empty except for a single sheet of card stock with columns of numbers on it in tiny print."
        ],
        [
          "removeitem",
          "quest_fort3key"
        ],
        [
          "checklocation",
          "Dirtwater Post Office - P.O. Box 114"
        ],
        [
          "option",
          "done",
          "Hmm"
        ]
      ]
    },
    "dirtwater_postmaster": {
      "codes2": [
        [
          "say",
          "After a couple of minutes, she comes back with a sheet of note paper."
        ],
        [
          "rightsay",
          "Okay, so each map has a code number on it, y'see? Based on region an' direction a' travel..."
        ],
        [
          "say",
          "She explains how to work out the code you need, and gives you a cheat sheet for reference."
        ],
        [
          "checklocation",
          "Dirtwater Post Office - Postal Codes"
        ],
        [
          "delflag",
          "postalstation_needcode"
        ],
        [
          "option",
          "done",
          "Thank her and leave"
        ]
      ]
    },
    "dirtwater_spittoon": {
      "seven": [
        [
          "say",
          "You found something. You found a tacky, filth-covered, porcelain cow figurine. A useless, disgusting thing that will make a great heirloom for your children, assuming you're still able to have any, and you hate them."
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Dirtwater - Spittoon"
        ],
        [
          "incflag",
          "spittoonsopen,1"
        ],
        [
          "option",
          "done",
          "Hooray!"
        ]
      ]
    },
    "dirtwater_yourtable": {
      "take": [
        [
          "addflag",
          "room_postcard"
        ],
        [
          "cls"
        ],
        [
          "checklocation",
          "Dirtwater Guest Room - Table"
        ]
      ]
    },
    "elvibrato1_beaniron1": {
      "popup": [
        [
          "say",
          "You sense a deposit of bean iron!"
        ],
        [
          "if",
          "hasitem(pick)"
        ],
        [
          "option",
          "pickit",
          "Mine it [pickaxe]"
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "Unfortunately, you are sans pickaxe."
        ]
      ],
      "pickit": [
        [
          "cls"
        ],
        [
          "say",
          "There we go!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Humming Cave - Bean-Iron Deposit"
        ]
      ]
    },
    "elvibrato1_gettransceiver": {
      "get": [
        [
          "cls"
        ],
        [
          "checklocation",
          "Bizarre Ruin - Half-Buried Pedestal"
        ],
        [
          "markused"
        ],
        [
          "exit"
        ]
      ]
    },
    "elvibrato1_purplegrass": {
      "get": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Humming Cave - Grass Outside"
        ]
      ]
    },
    "elvibrato2_batterybox": {
      "take": [
        [
          "say",
          "You grab the device.  The Perfessor will want to see this."
        ],
        [
          "checklocation",
          "El Vibrato Chamber (Lost Dutch Oven Mine) - Leftmost Box"
        ],
        [
          "markused"
        ],
        [
          "option",
          "done",
          "Yup"
        ]
      ]
    },
    "elvibrato2_fusetable": {
      "take": [
        [
          "cls"
        ],
        [
          "addflag",
          "elvibrato2_fusetable"
        ],
        [
          "checklocation",
          "El Vibrato Ruin - Cylinder"
        ]
      ]
    },
    "elvibrato2_hatchest": {
      "open": [
        [
          "removeitem",
          "elv_key"
        ],
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "particleburstwaa",
          "hatchest,burst_elvdespawnup,50,15"
        ],
        [
          "say",
          "There's a strange cloth loop inside. At least it feels more or less like cloth."
        ],
        [
          "checklocation",
          "El Vibrato Chamber (Lost Dutch Oven Mine) - Locked Box"
        ]
      ]
    },
    "fort1_generalgob": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "addflag",
          "fort1_generalgob,1"
        ],
        [
          "say",
          "You put an end to that pie-shooting goblin's reign of terror.  All the world's pies thank you."
        ],
        [
          "addxp",
          "@xpreward_a@*3"
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Hat"
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Pistol"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "hat": [
        [
          "leftsay",
          "Wait. Leaving a gun and hat here. They will not safe being."
        ],
        [
          "rightspeak",
          "Yes. Good. You protecting them for me."
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Hat"
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Pistol"
        ],
        [
          "goto",
          "heleaves"
        ]
      ],
      "hatgun": [
        [
          "leftsay",
          "You should leaving a hat and gun. Having a fresh start."
        ],
        [
          "rightspeak",
          "Yes, correct being. I will fighting each pie as if it is first pie being."
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Hat"
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Pistol"
        ],
        [
          "goto",
          "heleaves"
        ]
      ],
      "gun": [
        [
          "leftsay",
          "Leaving the gun and hat. Fighting a pie with honor, with fists and face."
        ],
        [
          "rightspeak",
          "Yes, you are correct. Truly a pie must be with my own strength fighting."
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Hat"
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - General Gob's Pistol"
        ],
        [
          "goto",
          "heleaves"
        ]
      ]
    },
    "fort1_messtable": {
      "get": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "Bless this mess."
        ],
        [
          "checklocation",
          "Fort Cowardice Mess Hall - Table (Item 1)"
        ],
        [
          "if",
          "itemroll(40)"
        ],
        [
          "additem",
          "booze_armywhiskey"
        ],
        [
          "checklocation",
          "Fort Cowardice Mess Hall - Table (Item 2)"
        ],
        [
          "if",
          "itemroll(40)"
        ],
        [
          "additem",
          "food_hardtack"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort1_nursedesk": {
      "papers": [
        [
          "say",
          "The papers are mostly just boring medical records.  Dental daguerrotypes, lamentations that antibiotics haven't been discovered yet, that kind of thing."
        ],
        [
          "if",
          "!hasflag(fort1_deskbreadcrumb)"
        ],
        [
          "say",
          "Hey wait, what's this?  This looks like it might be important."
        ],
        [
          "if",
          "!hasflag(fort1_deskbreadcrumb)"
        ],
        [
          "checklocation",
          "Fort Cowardice Math Tent - Desk Papers"
        ],
        [
          "if",
          "!hasflag(fort1_deskbreadcrumb)"
        ],
        [
          "addflag",
          "fort1_deskbreadcrumb"
        ],
        [
          "goto",
          "options"
        ]
      ]
    },
    "fort1_nursesafe": {
      "open": [
        [
          "cls"
        ],
        [
          "playsound",
          "opensafe"
        ],
        [
          "say",
          "You open the safe and put the controlled substances under your own control."
        ],
        [
          "checklocation",
          "Fort Cowardice Math Tent - Safe"
        ],
        [
          "markused"
        ]
      ]
    },
    "fort1_nurseshelf": {
      "get": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You bolster your supply of medical goods at the expense of the shelf's."
        ],
        [
          "checklocation",
          "Fort Cowardice Math Tent - Shelves"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort1_piesafe": {
      "yep": [
        [
          "cls"
        ],
        [
          "say",
          "There's a single pie inside, shot to pieces."
        ],
        [
          "checklocation",
          "Fort Cowardice Back Office - Pie Safe"
        ],
        [
          "markused"
        ]
      ]
    },
    "fort1_spicecabinet": {
      "open": [
        [
          "cls"
        ],
        [
          "if",
          "hasflag(dirtwater_chefquest)==1 && !hasflag(fort1_lootedspicerack)"
        ],
        [
          "goto",
          "givepeter"
        ],
        [
          "if",
          "hasflag(dirtwater_chefquest)==1 && hasflag(fort1_lootedspicerack)"
        ],
        [
          "say",
          "One of those things is enough."
        ],
        [
          "if",
          "hasflag(dirtwater_chefquest)>1"
        ],
        [
          "say",
          "This spice cabinet has provided all the value it's going to provide."
        ],
        [
          "if",
          "!hasflag(dirtwater_chefquest)"
        ],
        [
          "say",
          "It's just a bunch of unlabeled green shakers.  Better leave them alone -- they might be poison instead of spices, for all you know."
        ]
      ],
      "givepeter": [
        [
          "say",
          "Little green unlabelled jars. Hopefully, this is the stuff the chef was looking for."
        ],
        [
          "checklocation",
          "Fort Cowardice Mess Hall - Spice Rack"
        ],
        [
          "addflag",
          "fort1_lootedspicerack"
        ]
      ]
    },
    "fort1_tentdoor1": {
      "start": [
        [
          "if",
          "hasflag(fort1_tentdoor1)"
        ],
        [
          "goto",
          "done"
        ],
        [
          "say",
          "You hear the sounds of several goblins snoring inside this tent."
        ],
        [
          "option",
          "fight",
          "Go in guns blazing [Fight]"
        ],
        [
          "if",
          "hasitem(fungusbomb)"
        ],
        [
          "option",
          "bomb",
          "Set off a fungicide bomb"
        ],
        [
          "option",
          "stayout",
          "Leave them alone"
        ]
      ],
      "bomb": [
        [
          "addflag",
          "fort1_tentdoor1"
        ],
        [
          "if",
          "gary"
        ],
        [
          "say",
          "You wait until Gary is looking the other way, sidling closer to the entrance as you whistle nonchalantly."
        ],
        [
          "say",
          "You press the cap on the fungus bomb, toss it into the tent, and hold the flaps closed until the popping and sizzling noises stop.  You should be safe in there now."
        ],
        [
          "addxp",
          "20"
        ],
        [
          "option",
          "done",
          "Head inside"
        ]
      ]
    },
    "fort1_tent1locker1": {
      "open": [
        [
          "markused"
        ],
        [
          "clearrandom",
          ""
        ],
        [
          "pushrandom",
          "booze_armywhiskey"
        ],
        [
          "pushrandom",
          "combat_armyfirstaid"
        ],
        [
          "pushrandom",
          "combat_bulletfire"
        ],
        [
          "pushrandom",
          "combat_bulletpoison"
        ],
        [
          "pushrandom",
          "combat_bulletsilver"
        ],
        [
          "pushrandom",
          "food_hardtack"
        ],
        [
          "pushrandom",
          "combat_smellingsalts"
        ],
        [
          "pushrandom",
          "combat_canteen"
        ],
        [
          "checklocation",
          "Fort Cowardice First Tent - Back-Left Footlocker"
        ],
        [
          "addstate",
          "quant,1"
        ],
        [
          "if",
          "hasflag(containers_army)>5"
        ],
        [
          "incstate",
          "quant,rand(1,2)"
        ],
        [
          "additem",
          "poprandom(),$quant$"
        ],
        [
          "if",
          "itemroll(30)"
        ],
        [
          "additem",
          "poprandom"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "additem",
          "weapon_armysaber"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "additem",
          "ring_army"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "additem",
          "lapel_medals"
        ],
        [
          "incflag",
          "containers_army,1"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort1_tent1locker2": {
      "open": [
        [
          "markused"
        ],
        [
          "clearrandom",
          ""
        ],
        [
          "pushrandom",
          "booze_armywhiskey"
        ],
        [
          "pushrandom",
          "combat_armyfirstaid"
        ],
        [
          "pushrandom",
          "combat_bulletfire"
        ],
        [
          "pushrandom",
          "combat_bulletpoison"
        ],
        [
          "pushrandom",
          "combat_bulletsilver"
        ],
        [
          "pushrandom",
          "food_hardtack"
        ],
        [
          "pushrandom",
          "combat_smellingsalts"
        ],
        [
          "pushrandom",
          "combat_canteen"
        ],
        [
          "checklocation",
          "Fort Cowardice First Tent - Front-Right Footlocker"
        ],
        [
          "addstate",
          "quant,1"
        ],
        [
          "if",
          "hasflag(containers_army)>5"
        ],
        [
          "incstate",
          "quant,rand(1,2)"
        ],
        [
          "additem",
          "poprandom(),$quant$"
        ],
        [
          "if",
          "itemroll(30)"
        ],
        [
          "additem",
          "poprandom"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "additem",
          "weapon_armysaber"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "additem",
          "ring_army"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "additem",
          "lapel_medals"
        ],
        [
          "incflag",
          "containers_army,1"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort1_tent1locker3": {
      "picklock": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "say",
          "You pick the lock!"
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "clearrandom",
          ""
        ],
        [
          "pushrandom",
          "booze_armywhiskey"
        ],
        [
          "pushrandom",
          "combat_armyfirstaid"
        ],
        [
          "pushrandom",
          "combat_bulletfire"
        ],
        [
          "pushrandom",
          "combat_bulletpoison"
        ],
        [
          "pushrandom",
          "combat_bulletsilver"
        ],
        [
          "pushrandom",
          "food_hardtack"
        ],
        [
          "pushrandom",
          "combat_smellingsalts"
        ],
        [
          "pushrandom",
          "combat_canteen"
        ],
        [
          "checklocation",
          "Fort Cowardice First Tent - Back-Right Footlocker"
        ],
        [
          "addstate",
          "quant,1"
        ],
        [
          "if",
          "hasflag(containers_army)>5"
        ],
        [
          "incstate",
          "quant,rand(1,2)"
        ],
        [
          "additem",
          "poprandom(),$quant$"
        ],
        [
          "if",
          "itemroll(30)"
        ],
        [
          "additem",
          "poprandom"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==5"
        ],
        [
          "additem",
          "weapon_armysaber"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==10"
        ],
        [
          "additem",
          "ring_army"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "say",
          "Ooh, hey, what's this?"
        ],
        [
          "if",
          "hasflag(containers_army)==15"
        ],
        [
          "additem",
          "lapel_medals"
        ],
        [
          "incflag",
          "containers_army,1"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort1_triangle": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "You won the fight!  Go you!"
        ],
        [
          "addstate",
          "mult,1"
        ],
        [
          "if",
          "hasflag(fort1_2ndgoblin)==1"
        ],
        [
          "incstate",
          "mult,1"
        ],
        [
          "if",
          "hasflag(fort1_3rdgoblin)==1"
        ],
        [
          "incstate",
          "mult,1"
        ],
        [
          "addxp",
          "@xpreward_a@*$mult$"
        ],
        [
          "additem",
          "pickone(food_goblinsandwich,potion_goblinchicory,booze_goblinmescal)"
        ],
        [
          "if",
          "itemroll(10)"
        ],
        [
          "additem",
          "pickone(food_goblinsandwich,potion_goblinchicory,booze_goblinmescal)"
        ],
        [
          "if",
          "!hasflag(gotspyglasscheck)"
        ],
        [
          "checklocation",
          "Fort Cowardice Goblin Caves - First Victory"
        ],
        [
          "if",
          "hasflag(gotspyglasscheck)"
        ],
        [
          "addstate",
          "item1,pickone(pistol_goblin,pants_goblin,hat_goblin)"
        ],
        [
          "if",
          "hasflag(gotspyglasscheck)"
        ],
        [
          "addstate",
          "item2,pickone(pistol_goblin,pants_goblin,hat_goblin)"
        ],
        [
          "if",
          "hasflag(gotspyglasscheck) && itemroll(70)"
        ],
        [
          "additem",
          "$item1$"
        ],
        [
          "if",
          "hasflag(gotspyglasscheck) && itemroll(20)"
        ],
        [
          "additem",
          "$item2$"
        ],
        [
          "if",
          "!hasflag(gotspyglasscheck)"
        ],
        [
          "addflag",
          "gotspyglasscheck"
        ],
        [
          "incflag",
          "fort1_goblinwins,1"
        ],
        [
          "delflag",
          "fort1_2ndgoblin"
        ],
        [
          "delflag",
          "fort1_3rdgoblin"
        ],
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "fort2_bigpit": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "You brush yourself off, collect your loot, and climb back out of the pit."
        ],
        [
          "incflag",
          "fort2_pitkills"
        ],
        [
          "addstate",
          "kills,@fort2_pitkills@"
        ],
        [
          "if",
          "$kills$>3 && !hasflag(fort2_gotgravehat)"
        ],
        [
          "checklocation",
          "Fort Alldead - Mass Grave Item"
        ],
        [
          "if",
          "$kills$>3 && !hasflag(fort2_gotgravehat)"
        ],
        [
          "addflag",
          "fort2_gotgravehat"
        ],
        [
          "if",
          "$kills$<=3 && itemroll(20) && !hasflag(fort2_gotgravehat)"
        ],
        [
          "addflag",
          "temphatflag"
        ],
        [
          "if",
          "hasflag(temphatflag)"
        ],
        [
          "checklocation",
          "Fort Alldead - Mass Grave Item"
        ],
        [
          "if",
          "hasflag(temphatflag)"
        ],
        [
          "addflag",
          "fort2_gotgravehat"
        ],
        [
          "if",
          "hasflag(temphatflag)"
        ],
        [
          "delflag",
          "temphatflag"
        ],
        [
          "additem",
          "pickone(booze_armywhiskey,combat_armyfirstaid,combat_bulletfire,combat_bulletpoison,combat_bulletsilver,food_instantgrits,food_hardtack,combat_smellingsalts,combat_canteen)"
        ],
        [
          "if",
          "$kills$>rand(2,4)"
        ],
        [
          "additem",
          "pickone(booze_armywhiskey,combat_armyfirstaid,combat_bulletfire,combat_bulletpoison,combat_bulletsilver,food_instantgrits,food_hardtack,combat_smellingsalts,combat_canteen)"
        ],
        [
          "if",
          "$kills$>9"
        ],
        [
          "addstate",
          "kills,9"
        ],
        [
          "addxp",
          "@xpreward_c@*$kills$"
        ],
        [
          "teleportplayer",
          "2870,70"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "fort2_cavpin": {
      "get": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "checklocation",
          "Fort Alldead Privy - Bottom-Right Corner"
        ]
      ]
    },
    "fort2_footlocker6": {
      "picklock": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "say",
          "You pick the lock, revealing the footlocker to be full of... human bones!"
        ],
        [
          "checklocation",
          "Fort Alldead Barracks - Bottom-Right Footlocker"
        ],
        [
          "exit"
        ]
      ]
    },
    "fort2_knapsack2": {
      "start": [
        [
          "if",
          "hasflag(fort2_knapsack)"
        ],
        [
          "goto",
          "alreadylooted"
        ],
        [
          "say",
          "You dig through the knapsack."
        ],
        [
          "checklocation",
          "Fort Alldead - Knapsack (Item 1)"
        ],
        [
          "goto",
          "tokencontinue"
        ]
      ],
      "node3": [
        [
          "checklocation",
          "Fort Alldead - Knapsack (Item 2)"
        ],
        [
          "say",
          "The last thing is a little diary, which you decide to leave in there in case the owner comes back looking for it."
        ],
        [
          "goto",
          "diaryoptions"
        ]
      ]
    },
    "fort2_toilet3": {
      "popup": [
        [
          "say",
          "It's a toilet."
        ],
        [
          "if",
          "hasflag(fort2_poisonidea)==1"
        ],
        [
          "say",
          "And the flusher is broken.  Yuck."
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "The flush handle is missing, though."
        ],
        [
          "option",
          "get",
          "Fish around in it"
        ]
      ],
      "get": [
        [
          "cls"
        ],
        [
          "say",
          "You grab the contents of the toilet, you sicko."
        ],
        [
          "if",
          "!hasflag(fort2_poisonidea)>=1"
        ],
        [
          "say",
          "Hey... This gave you an idea.  If the undead produce waste, maybe it can make them unundead."
        ],
        [
          "addflag",
          "fort2_poisonidea,2"
        ],
        [
          "checklocation",
          "Fort Alldead Privy - Broken Toilet"
        ]
      ]
    },
    "fort2_trashcan": {
      "e": [
        [
          "if",
          "player.stenchresist>=100"
        ],
        [
          "goto",
          "nope"
        ],
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "Oh good, a disgusting old hat."
        ],
        [
          "checklocation",
          "Fort Alldead - Trash Can"
        ]
      ]
    },
    "ghosttown1_cactusa": {
      "good": [
        [
          "cls"
        ],
        [
          "say",
          "You manage to snag the pencil with the corner of your temporary visitor permit and yank it out of the cactus. Nice!"
        ],
        [
          "say",
          "Oh, wait... this is a number <i>4</i> pencil."
        ],
        [
          "checklocation",
          "Ghostwood - Ghost Cactus"
        ],
        [
          "markused"
        ]
      ]
    },
    "ghosttown1_knock1": {
      "permit9": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Sure do! That thing pops the tops off beer bottles like you wouldn't believe!"
        ],
        [
          "leftsay",
          "So long as it removes staples, I'll be happy."
        ],
        [
          "rightsay",
          "I imagine it does, but I'm afraid I'm not authorized for unstapling. You'll have to take it back over to Records. Here y'are."
        ],
        [
          "if",
          "hasflag(ghostwood_gotunstaplercheck)"
        ],
        [
          "additem",
          "quest_unstapler"
        ],
        [
          "else",
          ""
        ],
        [
          "checklocation",
          "Ghostwood Salooooon - Staple Remover"
        ],
        [
          "if",
          "!hasflag(ghostwood_gotunstaplercheck)"
        ],
        [
          "addflag",
          "ghostwood_gotunstaplercheck"
        ],
        [
          "addflag",
          "ghosttown1_unstapler,1"
        ],
        [
          "addflag",
          "ghosttown1_permit,10"
        ],
        [
          "sayoption",
          "done",
          "Great."
        ]
      ],
      "ordere": [
        [
          "addmeat",
          "-1000"
        ],
        [
          "rightsay",
          "There ya go! Don't drink it all in one place!"
        ],
        [
          "checklocation",
          "Ghostwood Salooooon - Whiskey Bottle"
        ],
        [
          "addflag",
          "ghosttown1_boughtbottle,1"
        ],
        [
          "sayoption",
          "done",
          "Thanks."
        ]
      ]
    },
    "ghosttown1_knock2": {
      "welcome": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "Knock, knock."
        ],
        [
          "rightportrait",
          "ghost2"
        ],
        [
          "rightsay",
          "Department of Records. How can I help you, @mr@ @idlastname@?"
        ],
        [
          "if",
          "hasflag(breadwood_quest4)==1 && !hasflag(ghosttown1_permit)"
        ],
        [
          "sayoption",
          "permit0",
          "I'm here on behalf of the mayor of Breadwood. He needs a permit..."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==1"
        ],
        [
          "sayoption",
          "permit1",
          "I'm supposed to pick up a file on the town of Breadwood."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==5 && hasitem(quest_loggingrep)"
        ],
        [
          "sayoption",
          "permit5",
          "Okay, I'm back with those papers."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==8"
        ],
        [
          "sayoption",
          "permit8",
          "I need some papers unstapled."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==10 && hasitem(quest_unstapler)"
        ],
        [
          "sayoption",
          "permit10",
          "Here's your staple remover back."
        ],
        [
          "if",
          "hasflag(ghosttown1_beeropen)==1"
        ],
        [
          "sayoption",
          "beeropen",
          "The Department of Libations needs to borrow your staple remover..."
        ],
        [
          "sayoption",
          "done",
          "Umm... I can't think of anything."
        ]
      ],
      "permit5": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "removeitem",
          "quest_loggingrep"
        ],
        [
          "rightsay",
          "All right, let me just put those in an official Inter-Department Document Transfer Folder for you... there you are."
        ],
        [
          "checklocation",
          "Ghostwood Stable - Got IDDTF"
        ],
        [
          "addflag",
          "ghosttown1_permit,6"
        ],
        [
          "sayoption",
          "done",
          "Great, thank you."
        ]
      ],
      "beeropen": [
        [
          "leftsay",
          "The Department of Libations needs to borrow your staple remover again."
        ],
        [
          "rightsay",
          "All right. I don't get much use out of it since we took Adjunct Records' stapler away anyway."
        ],
        [
          "if",
          "hasflag(ghostwood_gotunstaplercheck)"
        ],
        [
          "additem",
          "quest_unstapler"
        ],
        [
          "else",
          ""
        ],
        [
          "checklocation",
          "Ghostwood Salooooon - Staple Remover"
        ],
        [
          "addflag",
          "ghosttown1_beeropen,2"
        ],
        [
          "sayoption",
          "done",
          "Thanks."
        ]
      ]
    },
    "ghosttown1_knock3": {
      "welcome": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "Knock, knock."
        ],
        [
          "rightportrait",
          "ghost3"
        ],
        [
          "rightsay",
          "@mr@ ...@idlastname@, was it? What can I do for you?"
        ],
        [
          "if",
          "hasflag(breadwood_quest4)==1 && !hasflag(ghosttown1_permit)"
        ],
        [
          "sayoption",
          "permit0",
          "I'm here on behalf of the mayor of Breadwood. He needs a permit..."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==1"
        ],
        [
          "sayoption",
          "permit1",
          "I'm supposed to pick up a file on the town of Breadwood."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==2"
        ],
        [
          "sayoption",
          "permit2",
          "The Department of Records sent me over here to pick up a file."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==4 && hasitem(quest_stapler)"
        ],
        [
          "sayoption",
          "permit4",
          "Okay, I got you a stapler."
        ],
        [
          "if",
          "hasflag(ghosttown1_permit)==7"
        ],
        [
          "sayoption",
          "permit7",
          "Administration wants you to unstaple these papers."
        ],
        [
          "sayoption",
          "done",
          "Umm... nothing, I guess."
        ]
      ],
      "permit4": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Great! Ahh, there's nothing better than that new stapler smell."
        ],
        [
          "removeitem",
          "quest_stapler"
        ],
        [
          "leftsay",
          "Can I have that logging report now?"
        ],
        [
          "rightsay",
          "You bet! <i>Kerchunk!</i> Here you go, freshly-stapled and wind-resistant!"
        ],
        [
          "checklocation",
          "Ghostwood Jail - Stapled Report"
        ],
        [
          "addflag",
          "ghosttown1_permit,5"
        ],
        [
          "sayoption",
          "done",
          "Thanks."
        ]
      ]
    },
    "ghosttown1_knock4": {
      "permit3i": [
        [
          "rightsay",
          "I'm sorry @maam@, that's the wrong answer.  I'm afraid I can't approve this requisition.  I can, however, provide you with <i>this</i>."
        ],
        [
          "leftsay",
          "What is <i>that</i>?"
        ],
        [
          "say",
          "He shrugs."
        ],
        [
          "checklocation",
          "Ghostwood Office Supply - Stapler"
        ],
        [
          "addflag",
          "ghosttown1_permit,4"
        ],
        [
          "sayoption",
          "done",
          "Great, thanks."
        ]
      ]
    },
    "ghosttown1_knock5": {
      "start": [
        [
          "if",
          "!hasflag(ghosttown1_metthall)"
        ],
        [
          "goto",
          "first"
        ],
        [
          "if",
          "hasflag(ghostwood_gotidcheck) && hasitem(quest_g1visitorid)"
        ],
        [
          "goto",
          "welcome"
        ],
        [
          "if",
          "hasflag(ghosttown1_retrypermit) && !hasflag(ghostwood_gotidcheck)"
        ],
        [
          "goto",
          "realpermitretry"
        ],
        [
          "if",
          "hasitem(quest_3pencil) && hasflag(ghostwood_gottemppermitcheck) && !hasflag(ghostwood_gotidcheck)"
        ],
        [
          "goto",
          "realpermit"
        ],
        [
          "if",
          "hasitem(quest_4pencil)"
        ],
        [
          "goto",
          "4pencil"
        ],
        [
          "if",
          "hasitem(quest_g1tempvisit) && !hasflag(ghosttown1_tempexpired)"
        ],
        [
          "goto",
          "hitempexp"
        ],
        [
          "if",
          "hasitem(quest_g1tempvisit) && hasflag(ghosttown1_tempexpired)"
        ],
        [
          "goto",
          "newtemp"
        ],
        [
          "if",
          "hasflag(ghosttown1_tempretry)"
        ],
        [
          "goto",
          "tempretry"
        ],
        [
          "if",
          "hasflag(ghosttown1_nopencil)"
        ],
        [
          "goto",
          "nopencil"
        ],
        [
          "if",
          "!hasitem(quest_g1visitorid) && !hasitem(quest_g1tempvisit)"
        ],
        [
          "goto",
          "second"
        ],
        [
          "say",
          "no result"
        ],
        [
          "option",
          "done",
          "oops"
        ]
      ],
      "hitempexp2": [
        [
          "leftsay",
          "...Yes."
        ],
        [
          "rightsay",
          "Unfortunately I can't accept an expired pass."
        ],
        [
          "leftsay",
          "Can I get a new one?"
        ],
        [
          "rightsay",
          "No."
        ],
        [
          "leftsay",
          "..."
        ],
        [
          "addflag",
          "ghostwood_askedaboutexpiredpass"
        ],
        [
          "option",
          "done",
          "Better go find that pencil"
        ]
      ],
      "newtemp": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftsay",
          "My visitor pass expired. Can I have another one?"
        ],
        [
          "rightportrait",
          "ghost5"
        ],
        [
          "rightsay",
          "Sorry @sir@, only one pass per visitor. I'd be glad to help you apply for a full visitor ID, though."
        ],
        [
          "leftsay",
          "But I still don't have a pencil."
        ],
        [
          "rightsay",
          "..."
        ],
        [
          "leftsay",
          "..."
        ],
        [
          "addflag",
          "ghostwood_askedaboutexpiredpass"
        ],
        [
          "option",
          "done",
          "Better go find that pencil"
        ]
      ],
      "temppermit6b": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Correct. All right, everything seems to be in order. Here's your temporary visitor pass."
        ],
        [
          "checklocation",
          "Ghostwood Town Hall - Issued Permit"
        ],
        [
          "addflag",
          "ghostwood_gottemppermitcheck"
        ],
        [
          "addflag",
          "ghosttown1_tempretry,0"
        ],
        [
          "addflag",
          "ghosttown1_tempexpired,0"
        ],
        [
          "leftsay",
          "Thanks."
        ],
        [
          "rightsay",
          "It expires in eleven seconds."
        ],
        [
          "sayoption",
          "done",
          "..."
        ]
      ],
      "realpermit7a": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Correct. All right, everything seems to be in order. Allow me to officially welcome you to the town of Ghostwood. Here's your visitor ID."
        ],
        [
          "checklocation",
          "Ghostwood Town Hall - Issued ID"
        ],
        [
          "removeitem",
          "quest_g1tempvisit"
        ],
        [
          "addflag",
          "ghostwood_gotidcheck"
        ],
        [
          "leftsay",
          "Thank you. Say, was it always called Ghostwood, or..."
        ],
        [
          "rightsay",
          "Yes. Total coincidence."
        ],
        [
          "sayoption",
          "done",
          "Huh."
        ]
      ],
      "permit11k": [
        [
          "say",
          "<i>Scribble</i>"
        ],
        [
          "rightsay",
          "Good. Now, just take this back to the mayor of Breadwood, and have him sign on this line here, and initial over here."
        ],
        [
          "checklocation",
          "Ghostwood Town Hall - The Final Form"
        ],
        [
          "addflag",
          "ghosttown1_permit,13"
        ],
        [
          "leftsay",
          "Are you kidding me?"
        ],
        [
          "rightsay",
          "I don't know how to do that."
        ],
        [
          "sayoption",
          "done",
          "Uggggh."
        ]
      ],
      "permit15": [
        [
          "leftsay",
          "$lastoption$"
        ],
        [
          "if",
          "hasflag(ghosttown1_permittime)>@day@"
        ],
        [
          "goto",
          "permit15b"
        ],
        [
          "rightsay",
          "Let me look... ah yes, here it is. And there you are."
        ],
        [
          "checklocation",
          "Ghostwood Town Hall - Permit Finally Processed"
        ],
        [
          "addflag",
          "ghosttown1_permit,16"
        ],
        [
          "leftsay",
          "I don't have to sign anything to collect it?"
        ],
        [
          "rightsay",
          "Nope."
        ],
        [
          "leftsay",
          "Are you sure?"
        ],
        [
          "rightsay",
          "No @sir@. That's it."
        ],
        [
          "sayoption",
          "done",
          "Holy crap."
        ]
      ]
    },
    "ghosttown1_sharpen": {
      "4pencil": [
        [
          "cls"
        ],
        [
          "say",
          "You stick the #4 pencil into the sharpener and grind off about a quarter of it."
        ],
        [
          "removeitem",
          "quest_4pencil"
        ],
        [
          "checklocation",
          "Ghostwood - Sharpened Pencil"
        ]
      ]
    },
    "goblin1_destroyedcrate": {
      "e": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You very, very slowly gather up the dynamite in the crate."
        ],
        [
          "checklocation",
          "Gustavson Gulch Destroyed - Dynamite Crate"
        ]
      ]
    },
    "goblin1_house3": {
      "goin2": [
        [
          "say",
          "You enter what turns out to be a delicatessen, and help yourself to what turn out to be sandwiches. Probably."
        ],
        [
          "checklocation",
          "Gustavson Gulch - Deli Hut"
        ],
        [
          "addflag",
          "goblin1_house3"
        ],
        [
          "option",
          "done",
          "Nice"
        ]
      ]
    },
    "goblin1_house4": {
      "menu": [
        [
          "if",
          "hasflag(goblin1_sparekeyloc) && !hasflag(goblin1_gotsparekey)"
        ],
        [
          "option",
          "getkey",
          "Look in drawer #69105"
        ],
        [
          "option",
          "rand1",
          "Look in a random drawer"
        ],
        [
          "option",
          "rand1",
          "Look in a more random drawer"
        ],
        [
          "option",
          "rand1",
          "Look in an even randomer drawer"
        ],
        [
          "option",
          "done",
          "Stop looking"
        ]
      ],
      "rand1": [
        [
          "incflag",
          "goblin1_drawergrabs"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==1"
        ],
        [
          "say",
          "There's nothing in the drawer, but you find an old lollipop stuck to the bottom of the drawer above it."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==1"
        ],
        [
          "checklocation",
          "Gustavson Gulch Storage Hut - Random Item"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==2"
        ],
        [
          "say",
          "This drawer has a sandwich in it.  It must've been filed under sandwich."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==2"
        ],
        [
          "checklocation",
          "Gustavson Gulch Storage Hut - More Random Item"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==3"
        ],
        [
          "say",
          "This one contains a rolled-up pair of terrible pants."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==3"
        ],
        [
          "checklocation",
          "Gustavson Gulch Storage Hut - Even Randomer Item"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==4"
        ],
        [
          "say",
          "You don't find anything else interesting."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==5"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==6"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==7"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==8"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==9"
        ],
        [
          "say",
          "Wait, what's this?  Nope, nothing, false alarm."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==10"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==11"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==12"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==13"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==14"
        ],
        [
          "say",
          "Still nothing."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==15"
        ],
        [
          "say",
          "Eureka!"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==15"
        ],
        [
          "checklocation",
          "Gustavson Gulch Storage Hut - Randomest Item (Eureka)"
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)==15"
        ],
        [
          "say",
          "That's definitely the last one."
        ],
        [
          "if",
          "hasflag(goblin1_drawergrabs)>15"
        ],
        [
          "say",
          "I mean it.  There's nothing left in here."
        ],
        [
          "option",
          "menu",
          "Keep looking"
        ],
        [
          "option",
          "done",
          "Quit looking"
        ]
      ],
      "getkey": [
        [
          "checklocation",
          "Gustavson Gulch Storage Hut - Secret Item"
        ],
        [
          "addflag",
          "goblin1_gotsparekey"
        ],
        [
          "option",
          "menu",
          "Keep digging around"
        ],
        [
          "option",
          "done",
          "Leave"
        ]
      ]
    },
    "goblin1_house7": {
      "start": [
        [
          "if",
          "hasflag(goblin1_house7)"
        ],
        [
          "goto",
          "alreadydone"
        ],
        [
          "if",
          "hasflag(goblin1_secret1)"
        ],
        [
          "goto",
          "alreadylistened"
        ],
        [
          "if",
          "hasskill(goblintongue)"
        ],
        [
          "goto",
          "speakstart"
        ],
        [
          "say",
          "You hear some dramatic-sounding nonsense through the door."
        ],
        [
          "option",
          "fight",
          "You want some drama [Fight]"
        ],
        [
          "option",
          "done",
          "You don't want no drama"
        ]
      ],
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "You close the curtains on the goblin's final performance."
        ],
        [
          "addxp",
          "xpreward_b"
        ],
        [
          "checklocation",
          "Gustavson Gulch - Theatre Combat"
        ],
        [
          "addflag",
          "goblin1_house7"
        ],
        [
          "addstate",
          "winbutton,The rest... is silence."
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "speakstart": [
        [
          "say",
          "You press your ear to the door and hear somebody delivering what sound like lines from Hamlet, except in Goblintongue."
        ],
        [
          "say",
          "From this vantage point, you also notice a sign next to the door reading \"Backstage Entrance Here It Being!\" with an arrow pointing to the back of the building."
        ],
        [
          "option",
          "fight",
          "Go in and break a leg [Fight]"
        ],
        [
          "option",
          "backstage",
          "Head backstage"
        ],
        [
          "option",
          "done",
          "Take off"
        ]
      ],
      "back2": [
        [
          "say",
          "You watch for a while. The bits where the actor has to do a swordfight with themselves are pretty entertaining."
        ],
        [
          "addflag",
          "goblin1_secret1"
        ],
        [
          "addflag",
          "goblin1_house7"
        ],
        [
          "addxp",
          "@xpreward_c@"
        ],
        [
          "option",
          "done",
          "Nice"
        ]
      ],
      "alreadylistened": [
        [
          "say",
          "Through the door you hear the actor mumbling to themselves and rehearsing some lines over and over."
        ],
        [
          "option",
          "fight",
          "They're not the only one that's gonna butcher Hamlet [Fight]"
        ],
        [
          "option",
          "done",
          "Leave them be"
        ]
      ]
    },
    "goblin1_house8": {
      "goin2": [
        [
          "say",
          "You enter what turns out to be a caf, and reconstruct a few cups of chicory from the leavings in various dirty cups and sinks."
        ],
        [
          "if",
          "hasskill(goblintongue)"
        ],
        [
          "say",
          "You stop to wonder why a caf wouldn't be open at this time of day.  You see a schedule posted on the wall and sure enough, it says somebody named Gene is supposed to be working this shift."
        ],
        [
          "if",
          "hasskill(goblintongue)"
        ],
        [
          "say",
          "He always was a shiftless layabout, that Gene."
        ],
        [
          "if",
          "hasskill(goblintongue)"
        ],
        [
          "addflag",
          "goblin1_secret3"
        ],
        [
          "checklocation",
          "Gustavson Gulch - Cafe Hut"
        ],
        [
          "addflag",
          "goblin1_house8"
        ],
        [
          "option",
          "done",
          "Nice"
        ]
      ]
    },
    "goblin1_house9": {
      "win": [
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "You win! That'd show them, if they weren't dead now!"
        ],
        [
          "addxp",
          "xpreward_b*3"
        ],
        [
          "checklocation",
          "Gustavson Gulch - Guard Barracks"
        ],
        [
          "addmeat",
          "rand(40,50),1"
        ],
        [
          "additem",
          "pickone(food_goblinsandwich,potion_goblinchicory,booze_goblinmescal)"
        ],
        [
          "if",
          "itemroll(20)"
        ],
        [
          "additem",
          "pickone(hat_goblin,pants_goblin,pistol_goblin)"
        ],
        [
          "if",
          "itemroll(20)"
        ],
        [
          "additem",
          "pickone(hat_goblin,pants_goblin,pistol_goblin)"
        ],
        [
          "addflag",
          "goblin1_house9"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ],
      "bomb": [
        [
          "removeitem",
          "fungusbomb"
        ],
        [
          "say",
          "You open the door a crack and toss the bomb in.  A few minutes later, after the fumes settle, you enter the shack and survey the carnage."
        ],
        [
          "say",
          "It's a very profitable carnage! Three whole goblins worth of carnage!"
        ],
        [
          "checklocation",
          "Gustavson Gulch - Guard Barracks"
        ],
        [
          "addmeat",
          "rand(40,50),1"
        ],
        [
          "additem",
          "pickone(food_goblinsandwich,potion_goblinchicory,booze_goblinmescal)"
        ],
        [
          "if",
          "itemroll(20)"
        ],
        [
          "additem",
          "pickone(hat_goblin,pants_goblin,pistol_goblin)"
        ],
        [
          "if",
          "itemroll(20)"
        ],
        [
          "additem",
          "pickone(hat_goblin,pants_goblin,pistol_goblin)"
        ],
        [
          "addflag",
          "goblin1_house9"
        ],
        [
          "option",
          "done",
          "Sweet!"
        ]
      ]
    },
    "goblin1_maptable": {
      "look": [
        [
          "say",
          "Hey! Wow! It contains an entire year's supply of dynamite! Nice!"
        ],
        [
          "markused"
        ],
        [
          "addflag",
          "goblin1_gotdynamite"
        ],
        [
          "checklocation",
          "Gustavson Gulch Treasure Cave - Middle Chest"
        ],
        [
          "exit"
        ]
      ]
    },
    "goblin1_treasure3": {
      "picklock": [
        [
          "cls"
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "markused"
        ],
        [
          "say",
          "It's full of jewelry!"
        ],
        [
          "checklocation",
          "Gustavson Gulch Treasure Cave - Bottom Chest (Item 1)"
        ],
        [
          "checklocation",
          "Gustavson Gulch Treasure Cave - Bottom Chest (Item 2)"
        ]
      ]
    },
    "house_macready": {
      "seven": [
        [
          "leftspeak",
          "$lastoption$"
        ],
        [
          "rightsay",
          "Kind a' him to bury me, though. Guess he weren't all bad."
        ],
        [
          "leftsay",
          "Do you... do you want to see Felicity again? I could take you to her ghost."
        ],
        [
          "rightsay",
          "...Nah. I reckon I'll just go back to sleep. Ain't right, a dead fella walkin' 'round. Just tell her sorry for me, alright? Here, you can give 'er my pocketwatch, she'll recognize it."
        ],
        [
          "checklocation",
          "Desert House - Macready's Grave"
        ],
        [
          "addflag",
          "house_ghost_lawyer_duggrave"
        ],
        [
          "sayoption",
          "eight",
          "All right. Bye, Macready."
        ]
      ]
    },
    "mine1_beaniron1": {
      "popup": [
        [
          "say",
          "You sense a deposit of bean iron!"
        ],
        [
          "if",
          "hasitem(pick)"
        ],
        [
          "option",
          "pickit",
          "Mine it [pickaxe]"
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "Unfortunately, you are sans pickaxe."
        ]
      ],
      "pickit": [
        [
          "cls"
        ],
        [
          "say",
          "There we go!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Snakepit Mine - Bean-Iron Deposit"
        ]
      ]
    },
    "mine1_pickpile": {
      "get": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "checklocation",
          "Snakepit Mine - The Pick in the Stone"
        ]
      ]
    },
    "mine2_beaniron1": {
      "popup": [
        [
          "say",
          "You sense a deposit of bean iron!"
        ],
        [
          "if",
          "hasitem(pick)"
        ],
        [
          "option",
          "pickit",
          "Mine it [pickaxe]"
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "Unfortunately, you are sans pickaxe."
        ]
      ],
      "pickit": [
        [
          "cls"
        ],
        [
          "say",
          "There we go!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Kole Ridge Mine (Level 2) - Bean-Iron Deposit"
        ]
      ]
    },
    "mine2_bonepile": {
      "get": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Kole Ridge Mine (Level 3) - Pick-Head"
        ]
      ]
    },
    "mine2_curlyhole": {
      "dig": [
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Shovel"
        ],
        [
          "say",
          "Weird.  There was a compass buried there."
        ],
        [
          "checklocation",
          "Kole Ridge Mine (Level 2) - Triangular Stones"
        ],
        [
          "markused"
        ]
      ]
    },
    "mine2_locker": {
      "open1": [
        [
          "addflag",
          "mine2_locker1"
        ],
        [
          "say",
          "The locker contains one of those mining helmets with a lamp on it and a bottle of laudanum."
        ],
        [
          "checklocation",
          "Kole Ridge Mine - First Locker (Item 1)"
        ],
        [
          "checklocation",
          "Kole Ridge Mine - First Locker (Item 2)"
        ],
        [
          "option",
          "done",
          "Okay"
        ]
      ]
    },
    "mine3_emerald": {
      "e": [
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Pickaxe"
        ],
        [
          "say",
          "Pick pick pick!"
        ],
        [
          "checklocation",
          "Lost Dutch Oven Mine (Pit) - Emerald Rock"
        ],
        [
          "addflag",
          "mine3_gotgem"
        ]
      ]
    },
    "mine3_lockers": {
      "open": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Lost Dutch Oven Mine (Level 1) - Lockers (Item 1)"
        ],
        [
          "checklocation",
          "Lost Dutch Oven Mine (Level 1) - Lockers (Item 2)"
        ],
        [
          "say",
          "Heh.  Could've used this five minutes ago."
        ]
      ]
    },
    "mine3_sluice": {
      "e": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You tighten the loose screws, and some ore gets jarred loose from upsluice."
        ],
        [
          "checklocation",
          "Lost Dutch Oven Mine - Sluice"
        ],
        [
          "addxp",
          "5"
        ]
      ]
    },
    "mine3_spittoon": {
      "seven": [
        [
          "say",
          "You pull the world's most disgusting pair of pants out of the spittoon, and jump back as the hole at the spittoon's bottom, now unplugged, begins to leak steaming filth."
        ],
        [
          "say",
          "Congratulations. You are now the proud owner of the worst object I've ever been paid to think about, narrowly defeating a leather bondage harness made from the skin of a clown."
        ],
        [
          "checklocation",
          "Lost Dutch Oven Mine (Level 1) - Spittoon"
        ],
        [
          "incflag",
          "spittoonsopen,1"
        ],
        [
          "markused"
        ],
        [
          "option",
          "done",
          "Hooray!"
        ]
      ]
    },
    "mine5_beaniron2": {
      "popup": [
        [
          "say",
          "You sense a deposit of bean iron!"
        ],
        [
          "if",
          "hasitem(pick)"
        ],
        [
          "option",
          "pickit",
          "Mine it [pickaxe]"
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "Unfortunately, you are sans pickaxe."
        ]
      ],
      "pickit": [
        [
          "cls"
        ],
        [
          "playsound",
          "Player_Use_Pickaxe"
        ],
        [
          "say",
          "There we go!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Soupstock Lode (Level 1) - Bean-Iron Deposit (Bottom Left)"
        ]
      ]
    },
    "mine5_elvchest": {
      "unlock": [
        [
          "particleburstwaa",
          "chest,burst_elvdespawnup,50,15"
        ],
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "El Vibrato Chamber (Soupstock Lode) - Chest"
        ]
      ]
    },
    "mine5_knapsack": {
      "dig": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "It's mostly filled with trash, but you do find a spooky white mask. Weird."
        ],
        [
          "checklocation",
          "Soupstock Lode (Elevator Room) - Knapsack"
        ]
      ]
    },
    "mine5_workbench": {
      "picklock": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "say",
          "Nice work!  The toolbox is, unsurprisingly, full of tools."
        ],
        [
          "checklocation",
          "Soupstock Lode (Level 1) - Workbench Toolbox (Item 1)"
        ],
        [
          "checklocation",
          "Soupstock Lode (Level 1) - Workbench Toolbox (Item 2)"
        ]
      ]
    },
    "postalstation_papers3": {
      "e": [
        [
          "cls"
        ],
        [
          "say",
          "Nothing interesting.  Oh, wait, there's actually a postcard in here that you could use."
        ],
        [
          "addflag",
          "postalstation_gotpostcard"
        ],
        [
          "checklocation",
          "Postal Way Station - Middle Newspaper Stack"
        ]
      ]
    },
    "postalstation_papers4": {
      "letter": [
        [
          "cls"
        ],
        [
          "say",
          "Oh hey, there's an undelivered letter underneath the stack."
        ],
        [
          "say",
          "It's addressed to Roy Bean."
        ],
        [
          "addflag",
          "postalstation_royletter"
        ],
        [
          "checklocation",
          "Postal Way Station - Top-Right Newspaper Stack"
        ],
        [
          "if",
          "!hasflag(map_roybean)"
        ],
        [
          "say",
          "You look at the address and jot it down on your map."
        ],
        [
          "if",
          "!hasflag(map_roybean)"
        ],
        [
          "mapunlock",
          "roybean,Roy Bean's House of Justice and Jellybeans"
        ],
        [
          "addstate",
          "maplocs,=countflags(map_)"
        ],
        [
          "if",
          "$maplocs$>36 && $maplocs$<40"
        ],
        [
          "giveachievement",
          "ach_37maplocs"
        ]
      ]
    },
    "professor_talk": {
      "intro3": [
        [
          "removeitem",
          "elv_introitem"
        ],
        [
          "rightsay",
          "Aha! As I suspected, this is one of their transponders. It detects other El Vibrato technology and homes in, you see. That'll be why it led you here, I've got a thing I've been trying to repair."
        ],
        [
          "say",
          "He tinkers around with the transponder for a bit and then plugs a strange stone marble into a socket on it."
        ],
        [
          "rightsay",
          "There you go! Good as new! Just swipe up or down to turn it on or off."
        ],
        [
          "checklocation",
          "The Perfessor's House - Show the Stone Arrow"
        ],
        [
          "sayoption",
          "intro4",
          "'Swipe'?"
        ]
      ]
    },
    "railcamp_rockremains": {
      "popup": [
        [
          "say",
          "The remains of your triumph over that crazy rock pile / guy."
        ],
        [
          "if",
          "hasflag(geologistquest)>3 && !hasflag(geologistquest_golem)"
        ],
        [
          "option",
          "e",
          "Grab a rock for Dr. Morton"
        ]
      ],
      "e": [
        [
          "cls"
        ],
        [
          "say",
          "You grab a rock, which you hope is sufficiently interesting."
        ],
        [
          "checklocation",
          "Railroad Camp (East) - Rock Monster's Remains (Dr. Morton's Quest)"
        ],
        [
          "addflag",
          "geologistquest_golem"
        ]
      ]
    },
    "ranch1_altar": {
      "getblood": [
        [
          "say",
          "A chill runs down your spine as you touch the goblet."
        ],
        [
          "checklocation",
          "Stearns Ranch Cellar - Blood Altar"
        ],
        [
          "addflag",
          "ranch1_altar,1"
        ],
        [
          "option",
          "done",
          "Ugh."
        ]
      ],
      "smash": [
        [
          "say",
          "You don't know what this is, but you know it's abominable.  You grab the goblet and smash it against the altar."
        ],
        [
          "say",
          "Everywhere the blood lands, cracks appear.  The altar groans as it crumbles into ruin.  In the rubble, something catches your eye, previously hidden beneath the unholy shrine."
        ],
        [
          "checklocation",
          "Stearns Ranch Cellar - Blood Altar"
        ],
        [
          "addflag",
          "ranch1_altar,2"
        ],
        [
          "addxp",
          "50"
        ],
        [
          "option",
          "done",
          "And how."
        ]
      ]
    },
    "ranch1_flower": {
      "pick": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "Ow ow ow!"
        ],
        [
          "checklocation",
          "Stearns Ranch - Smoking Flower"
        ],
        [
          "exit"
        ]
      ]
    },
    "ranch1_hearth": {
      "take": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "say",
          "You upend the pot into your pack."
        ],
        [
          "checklocation",
          "Stearns Ranch House - Pot"
        ]
      ]
    },
    "ranch1_jethrosbones": {
      "search": [
        [
          "cls"
        ],
        [
          "say",
          "You find a charred locket among the blackened bones."
        ],
        [
          "checklocation",
          "Stearns Ranch - Jethro's Bones"
        ],
        [
          "addflag",
          "ranch1_gotlocket"
        ],
        [
          "exit"
        ]
      ]
    },
    "ranch1_lockbox": {
      "picklock": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "playsound",
          "Player_Use_Lockpick"
        ],
        [
          "say",
          "You pick the lock and open the box."
        ],
        [
          "removeitem",
          "needle"
        ],
        [
          "say",
          "Ooh, a document!"
        ],
        [
          "checklocation",
          "Stearns Ranch House - Lockbox"
        ],
        [
          "exit"
        ]
      ]
    },
    "ranch1_outhouse": {
      "win": [
        [
          "addflag",
          "ranch1_pyrobove"
        ],
        [
          "addstate",
          "winbutton,Hooray!"
        ],
        [
          "say",
          "The outhouse is now safe as houses.  Outhouses."
        ],
        [
          "addxp",
          "@xpreward_a@"
        ],
        [
          "say",
          "By the soft light of the fading embers, you see a glint of light from below.  You hold your nose with one hand as you fish out your prize with the other."
        ],
        [
          "checklocation",
          "Stearns Ranch - Outhouse Beast Defeated"
        ],
        [
          "incflag",
          "ending_fightswon"
        ],
        [
          "if",
          "hasflag(cowfight)"
        ],
        [
          "incflag",
          "ending_cowskilled,hasflag(cowfight)"
        ],
        [
          "if",
          "hasflag(undeadfight)"
        ],
        [
          "incflag",
          "ending_undeadkilled,hasflag(undeadfight)"
        ],
        [
          "if",
          "!susie"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "if",
          "!hasflag(cowfight)"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "susie_xp,hasflag(cowfight)"
        ],
        [
          "addstate",
          "rankup,0"
        ],
        [
          "say",
          "%pardner_susienotch%"
        ],
        [
          "if",
          "hasflag(susie_xp)>=1 && hasflag(pardnerrank)<2"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=4 && hasflag(pardnerrank)<3"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=8 && hasflag(pardnerrank)<4"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=15 && hasflag(pardnerrank)<5"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=25 && hasflag(pardnerrank)<6"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=40 && hasflag(pardnerrank)<7"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "hasflag(susie_xp)>=60 && hasflag(pardnerrank)<8"
        ],
        [
          "addstate",
          "rankup,1"
        ],
        [
          "if",
          "$rankup$==0"
        ],
        [
          "goto",
          "aftersusie"
        ],
        [
          "incflag",
          "pardnerrank,1"
        ],
        [
          "say",
          "Cow-hate flashes in her eyes.  Her resolve intensifies."
        ],
        [
          "say",
          "<b>Susie has become stronger!</b>"
        ],
        [
          "addstate",
          "winbutton,Way to go!"
        ],
        [
          "goto",
          "aftersusie"
        ]
      ]
    },
    "ranch1_safe": {
      "open": [
        [
          "cls"
        ],
        [
          "playsound",
          "opensafe"
        ],
        [
          "say",
          "You open the safe.  Somebody in the Stearns family was quite the investor, it appears!"
        ],
        [
          "checklocation",
          "Stearns Ranch Cellar - Safe"
        ],
        [
          "markused"
        ]
      ]
    },
    "ranch1_shelf": {
      "inv": [
        [
          "cls"
        ],
        [
          "say",
          "Your deft fingers find a hidden catch, and the back panel of the shelf slides away to reveal a secret compartment."
        ],
        [
          "say",
          "There's a book inside!"
        ],
        [
          "checklocation",
          "Stearns Ranch House - Burnt Bookshelf"
        ],
        [
          "addflag",
          "ranch1_marydiary"
        ]
      ]
    },
    "ranch2_hippy1": {
      "opts": [
        [
          "if",
          "hasflag(ranch2_boughtremedy)"
        ],
        [
          "goto",
          "alreadybought"
        ],
        [
          "if",
          "meat>15"
        ],
        [
          "option",
          "buy",
          "Buy one [15 Meat]"
        ],
        [
          "else",
          ""
        ],
        [
          "grayoption",
          "booy",
          "Buy one [Requires 15 Meat]"
        ],
        [
          "option",
          "done",
          "Leave"
        ]
      ],
      "buy": [
        [
          "rightsay",
          "Hey, groovy. Thanks."
        ],
        [
          "addmeat",
          "-15"
        ],
        [
          "checklocation",
          "Lazy-A Dude Ranch - Purchased Herbal Remedy"
        ],
        [
          "addflag",
          "ranch2_boughtremedy"
        ],
        [
          "goto",
          "opts"
        ]
      ],
      "alreadybought": [
        [
          "say",
          "You don't feel the need to buy anything else."
        ],
        [
          "option",
          "done",
          "Leave"
        ]
      ]
    },
    "ranch2_hippy2": {
      "yesbane": [
        [
          "rightsay",
          "I sure do, man! Baled it up for ya and everything!"
        ],
        [
          "checklocation",
          "Lazy-A Dude Ranch - Cowsbane Harvest"
        ],
        [
          "addflag",
          "ranch2_fencequest,3"
        ],
        [
          "leftsay",
          "Great, thanks!"
        ],
        [
          "rightsay",
          "Boom shanka, man."
        ],
        [
          "option",
          "done",
          "Uh-huh!"
        ]
      ],
      "yeshat": [
        [
          "leftportrait",
          "player"
        ],
        [
          "leftspeak",
          "$lastoption$"
        ],
        [
          "rightportrait",
          "hippy2_nohat"
        ],
        [
          "rightsay",
          "Nice, man! Barter is like, commerce, man, except <i>natural</i>, can you dig it?"
        ],
        [
          "checklocation",
          "Lazy-A Dude Ranch - Dreads Dude Hat Trade"
        ],
        [
          "removeitem",
          "hat_oldmilitary"
        ],
        [
          "incflag",
          "peoplehelped,1"
        ],
        [
          "addflag",
          "ranch2_gothat,2"
        ],
        [
          "sayoption",
          "done",
          "Yeah, groovy."
        ]
      ]
    },
    "ranch3_getmilk": {
      "get": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "You manage to gather up three jars worth."
        ],
        [
          "checklocation",
          "Butterfield Ranch Barn - Milk Shelf"
        ]
      ]
    },
    "ranch3_hearth": {
      "e": [
        [
          "cls"
        ],
        [
          "say",
          "Ow ow ow!"
        ],
        [
          "checklocation",
          "Butterfield Ranch - Fireplace"
        ],
        [
          "markused"
        ]
      ]
    },
    "ranch3_ropefence": {
      "take": [
        [
          "cls"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Butterfield Ranch - Rope on Fence"
        ]
      ]
    },
    "ranch3_toybox": {
      "open": [
        [
          "cls"
        ],
        [
          "say",
          "It's full of toy skeletons!"
        ],
        [
          "checklocation",
          "Butterfield Ranch Barn - Toybox"
        ],
        [
          "markused"
        ]
      ]
    },
    "shaggydogcave_beaniron1": {
      "popup": [
        [
          "say",
          "You sense a deposit of bean iron!"
        ],
        [
          "if",
          "hasitem(pick)"
        ],
        [
          "option",
          "pickit",
          "Mine it [pickaxe]"
        ],
        [
          "else",
          ""
        ],
        [
          "say",
          "Unfortunately, you are sans pickaxe."
        ]
      ],
      "pickit": [
        [
          "cls"
        ],
        [
          "say",
          "There we go!"
        ],
        [
          "markused"
        ],
        [
          "checklocation",
          "Shaggy Dog Cave - Bean-Iron Deposit"
        ]
      ]
    },
    "silverplater_platerhimself": {
      "barbedwire": [
        [
          "addmeat",
          "-1000"
        ],
        [
          "rightsay",
          "Lookin' ta keep some cows off yer property, eh? Good thinkin'."
        ],
        [
          "say",
          "He takes the coil of barbed wire, and gives it back a short time later, shiny and gleaming."
        ],
        [
          "removeitem",
          "quest_barbedwire"
        ],
        [
          "checklocation",
          "The Silver Plater - Plated Barbed Wire"
        ],
        [
          "option",
          "done",
          "Awesome!"
        ]
      ],
      "turnip": [
        [
          "addmeat",
          "-$turnipprice$"
        ],
        [
          "say",
          "He takes the turnip, and gives it back a short time later, shiny and gleaming."
        ],
        [
          "rightsay",
          "Hadda hollow it out in the middle, so it wouldn't rot inside. But ya can wear it as a hat now!"
        ],
        [
          "removeitem",
          "food_turnip"
        ],
        [
          "checklocation",
          "The Silver Plater - Plated the Turnip"
        ],
        [
          "option",
          "done",
          "Neat!"
        ]
      ]
    },
    "silversmith_foodshelf": {
      "get": [
        [
          "markused"
        ],
        [
          "cls"
        ],
        [
          "say",
          "You find a couple of things that still look edible."
        ],
        [
          "checklocation",
          "Silversmith's House - Shelf (Item 1)"
        ],
        [
          "checklocation",
          "Silversmith's House - Shelf (Item 2)"
        ],
        [
          "option",
          "done",
          "Excellent."
        ]
      ]
    },
    "silversmith_safe": {
      "open": [
        [
          "playsound",
          "opensafe"
        ],
        [
          "say",
          "You open the safe!"
        ],
        [
          "checklocation",
          "Silversmith's House - Safe"
        ],
        [
          "markused"
        ]
      ]
    },
    "silversmith_spittoon": {
      "nine": [
        [
          "say",
          "You found a filthy slime-covered old brooch, are you happy? I bet you're going to put it on without even washing it first."
        ],
        [
          "checklocation",
          "Silversmith's House - Spittoon"
        ],
        [
          "markused"
        ],
        [
          "incflag",
          "spittoonsopen,1"
        ],
        [
          "option",
          "done",
          "Maybe I will! So there!"
        ]
      ]
    },
    "snakespring_timerift": {
      "grab": [
        [
          "addflag",
          "snakespring_rift"
        ],
        [
          "say"
        ],
        [
          "checklocation",
          "Snake Spring - Temporal Rift"
        ],
        [
          "option",
          "done",
          "Strange"
        ]
      ]
    }
  },
  "skills": {},
  "waas": {
    "elvibrato1_cave": {
      "name": "Humming Cave (Inside)",
      "width": "2.000",
      "ground": null,
      "sky": "",
      "startxy": "205,123",
      "horizon": "wallcave_tile1",
      "foregroundparallax": "foreground_caveleft1,foreground_cavemiddle1,foreground_cavemiddle5,foreground_cavemiddle1,foreground_cavemiddle3,foreground_cavemiddle2,foreground_caveright1",
      "foregroundbrightness": ".5",
      "dark": 1.0,
      "groundtexture": "floor_dirt1",
      "cluttercount": 10.0,
      "cluttersprites": "rocks1,rocks2,rocks1,rocks2,rocks3",
      "clutterseed": 19285.0,
      "cluttersolid": 1.0,
      "cluttershadow": 1.0,
      "music": "music_cavemine",
      "ambientsound1": "Cave_ambience_loop",
      "basewaa": "elvibrato1",
      "elements": {
        "beaniron": {
          "asset": "none",
          "usedasset": null,
          "x": 1181.0,
          "z": 313.0,
          "height": 50.0,
          "width": 50.0,
          "condition": "hasskill(cookery)",
          "script": "elvibrato1_beaniron1",
          "proximity": 0.0,
          "emitter": "twinkles",
          "notilt": 1.0
        },
        "boulder": {
          "asset": "canyonrock2",
          "usedasset": null,
          "x": 754.0,
          "z": 253.0,
          "height": 664.0,
          "width": 304.0,
          "condition": "!hasflag(elvibrato1_rolledboulder)",
          "script": "elvibrato1_boulder",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "boulder_rolled": {
          "asset": "canyonrock2_overturned",
          "usedasset": null,
          "x": 831.0,
          "z": 253.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(elvibrato1_rolledboulder)",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "elvchest": {
          "asset": "elv_chest_locked",
          "usedasset": "elv_chest_open",
          "x": 1363.0,
          "z": 215.0,
          "height": 135.0,
          "width": 278.0,
          "condition": "hasflag(elvibrato1_cache)",
          "script": "elv_chest",
          "proximity": 0.0,
          "elvibrato": 1.0,
          "": "usedscript maybe"
        },
        "elvchest_notice": {
          "asset": "none",
          "usedasset": null,
          "x": 1289.0,
          "z": 210.0,
          "height": 30.0,
          "width": 30.0,
          "condition": "!hasflag(elvibrato1_cache)",
          "script": "elvibrato1_elvcache",
          "proximity": 0.0,
          "extendforward": 1.0,
          "extendback": 1.0,
          "noclip": 1.0
        },
        "exit": {
          "asset": "caveopening",
          "usedasset": null,
          "x": 85.0,
          "z": 253.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "autoscript__elvibrato1_cave__exit__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "rock1": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 1361.0,
          "z": 228.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock2": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 1362.0,
          "z": 197.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock3": {
          "asset": "rocks6",
          "usedasset": null,
          "x": 1423.0,
          "z": 225.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock4": {
          "asset": "rocks7",
          "usedasset": null,
          "x": 1427.0,
          "z": 197.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks1": {
          "asset": "rocks2",
          "usedasset": null,
          "x": 983.0,
          "z": 254.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks2": {
          "asset": "rocks10",
          "usedasset": null,
          "x": 860.0,
          "z": 254.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks3": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 77.0,
          "z": 252.0,
          "height": 52.0,
          "width": 104.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "rocks4": {
          "asset": "rock1",
          "usedasset": null,
          "x": 219.0,
          "z": 252.0,
          "height": 40.0,
          "width": 78.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "snakehole": {
          "asset": "caveopening5",
          "usedasset": null,
          "x": 872.0,
          "z": 255.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(elvibrato1_snakehole)",
          "script": "elvibrato1_snakehole",
          "proximity": 0.0,
          "extendback": 1.0,
          "extendforward": 1.0,
          "prop": "eyes_creepy_03,50,50",
          "noshadow": 1.0
        },
        "snakehole_empty": {
          "asset": "caveopening5",
          "usedasset": null,
          "x": 872.0,
          "z": 255.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(elvibrato1_snakehole)",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "stalag1": {
          "asset": "stalagcluster3",
          "usedasset": null,
          "x": 492.0,
          "z": 128.0,
          "height": 278.0,
          "width": 196.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "stalag2": {
          "asset": "stalagcluster1",
          "usedasset": null,
          "x": 1263.0,
          "z": 12.0,
          "height": 562.0,
          "width": 258.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "stalag3": {
          "asset": "stalag4",
          "usedasset": null,
          "x": 1629.0,
          "z": 223.0,
          "height": 335.0,
          "width": 96.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "stalag4": {
          "asset": "stalag2",
          "usedasset": null,
          "x": 1581.0,
          "z": 194.0,
          "height": 198.0,
          "width": 125.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "teleporter": {
          "asset": "elv_teleporter2",
          "usedasset": null,
          "x": 1797.0,
          "z": 127.0,
          "height": 466.0,
          "width": 501.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "noshadow": 1.0,
          "elvibrato": 1.0,
          "interesting": 1.0,
          "ambientsound": "el_vibrato_monolith_loop, 180"
        },
        "teleportervolume": {
          "asset": "none",
          "usedasset": null,
          "x": 1811.0,
          "z": 126.0,
          "height": 10.0,
          "width": 130.0,
          "condition": "",
          "script": "elvibrato1_teleporter1",
          "proximity": 0.0,
          "shootableheight": 150.0
        },
        "teleprompt": {
          "asset": "none",
          "usedasset": null,
          "x": 1637.0,
          "z": 130.0,
          "height": 30.0,
          "width": 30.0,
          "condition": "",
          "script": "elvibrato1_teleprompt",
          "proximity": 0.0,
          "extendforward": 1.0,
          "extendback": 1.0,
          "noclip": 1.0
        }
      },
      "parentwaa": "elvibrato1"
    },
    "mine1_interior1": {
      "name": "Snakepit Mine (Inside)",
      "width": "2.250",
      "ground": "",
      "sky": "",
      "startxy": "100,100",
      "horizon": "wallmine_tile1",
      "leftwall": "wallmine_side1",
      "rightwall": "wallmine_side2",
      "foregroundparallax": "foreground_minesupport,foreground_mineceiling1,foreground_mineceiling2",
      "foregroundbrightness": ".5",
      "dark": 1.0,
      "groundtexture": "floor_dirt1",
      "music": "music_cavemine",
      "ambientsound1": "cave_ambience_loop",
      "basewaa": "mine1",
      "elements": {
        "beaniron": {
          "asset": "none",
          "usedasset": null,
          "x": 1333.0,
          "z": 331.0,
          "height": 50.0,
          "width": 50.0,
          "condition": "hasskill(cookery)",
          "script": "mine1_beaniron1",
          "proximity": 0.0,
          "emitter": "twinkles",
          "notilt": 1.0
        },
        "cart": {
          "asset": "minecart_full",
          "usedasset": "minecart_empty",
          "x": 853.0,
          "z": 248.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "mine1_cart",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "crate": {
          "asset": "lootpile1",
          "usedasset": "lootpile1_empty",
          "x": 1401.0,
          "z": 17.0,
          "height": 196.0,
          "width": 193.0,
          "condition": "",
          "script": "mine1_crate",
          "proximity": 0.0
        },
        "crate1": {
          "asset": "crate",
          "usedasset": "crate",
          "x": 340.0,
          "z": 247.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(mine1_crate1)",
          "script": "mine1_crate1",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "elvchest": {
          "asset": "elv_chest_locked",
          "usedasset": "elv_chest_open",
          "x": 2109.0,
          "z": 56.0,
          "height": 135.0,
          "width": 278.0,
          "condition": "hasflag(mine1_cache)",
          "script": "elv_chest",
          "proximity": 0.0,
          "elvibrato": 1.0,
          "": "usedscript maybe"
        },
        "elvchestnotice": {
          "asset": "none",
          "usedasset": null,
          "x": 2021.0,
          "z": 61.0,
          "height": 30.0,
          "width": 30.0,
          "condition": "!hasflag(mine1_cache)",
          "script": "mine1_elvcache",
          "proximity": 0.0,
          "extendforward": 1.0,
          "extendback": 1.0,
          "noclip": 1.0
        },
        "exitdoor": {
          "asset": "minedoor",
          "usedasset": null,
          "x": 123.0,
          "z": 252.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "autoscript__mine1_interior1__exitdoor__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "lumber1": {
          "asset": "lumberpile",
          "usedasset": null,
          "x": 344.0,
          "z": 246.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine1_crate1)",
          "script": "mine1_lumberpile",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "meatvein": {
          "asset": "meatvein1",
          "usedasset": null,
          "x": 2125.0,
          "z": 319.0,
          "height": 201.0,
          "width": 225.0,
          "condition": "",
          "script": "meatvein",
          "proximity": 0.0,
          "flip": 1.0,
          "notilt": 1.0
        },
        "pickpile": {
          "asset": "pickrock",
          "usedasset": "pickrock_empty",
          "x": 1890.0,
          "z": 123.0,
          "height": 200.0,
          "width": 225.0,
          "condition": "",
          "script": "mine1_pickpile",
          "proximity": 0.0
        },
        "rock1": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 2105.0,
          "z": 42.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock2": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 2175.0,
          "z": 69.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock3": {
          "asset": "rocks6",
          "usedasset": null,
          "x": 2178.0,
          "z": 40.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock4": {
          "asset": "rocks6",
          "usedasset": null,
          "x": 2106.0,
          "z": 68.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks1": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 114.0,
          "z": 251.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "rocks2": {
          "asset": "rocks2",
          "usedasset": null,
          "x": 262.0,
          "z": 250.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "rocks3": {
          "asset": "rocks2",
          "usedasset": null,
          "x": 1544.0,
          "z": 142.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks4": {
          "asset": "rocks4",
          "usedasset": null,
          "x": 1712.0,
          "z": 143.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks6": {
          "asset": "rocks4",
          "usedasset": null,
          "x": 448.0,
          "z": 251.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks7": {
          "asset": "rocks3",
          "usedasset": null,
          "x": 594.0,
          "z": 47.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks8": {
          "asset": "rocks2",
          "usedasset": null,
          "x": 822.0,
          "z": 39.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "snakehole1": {
          "asset": "den1",
          "usedasset": null,
          "x": 614.0,
          "z": 245.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine1_snakehole1)",
          "script": "mine1_snakehole1",
          "proximity": 0.0,
          "extendback": 1.0,
          "prop": "eyes_creepy_02,45,5"
        },
        "snakehole1_empty": {
          "asset": "den1",
          "usedasset": null,
          "x": 614.0,
          "z": 245.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(mine1_snakehole1)",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "snakehole2": {
          "asset": "den2",
          "usedasset": null,
          "x": 1105.0,
          "z": 229.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine1_snakehole2)",
          "script": "mine1_snakehole2",
          "proximity": 0.0,
          "emitter": "smoke_a,35,35",
          "emitter1": "smoke_a,55,45"
        },
        "snakehole2_nosmoke": {
          "asset": "den2",
          "usedasset": null,
          "x": 1105.0,
          "z": 229.0,
          "height": 142.0,
          "width": 286.0,
          "condition": "hasflag(mine1_snakehole2)",
          "script": "",
          "proximity": 0.0
        },
        "snakehole3": {
          "asset": "den4",
          "usedasset": null,
          "x": 1557.0,
          "z": 148.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine1_snakehole3)",
          "script": "mine1_snakehole3",
          "proximity": 0.0,
          "prop": "eyes_creepy_02"
        },
        "snakehole3_empty": {
          "asset": "den4",
          "usedasset": null,
          "x": 1557.0,
          "z": 148.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(mine1_snakehole3)",
          "script": "mine1_snakehole3",
          "proximity": 0.0
        }
      },
      "parentwaa": "mine1"
    },
    "mine2_interior2": {
      "name": "Kole Ridge Mine (Deeper)",
      "width": "1.700",
      "ground": null,
      "sky": "",
      "startxy": "1080,100",
      "horizon": "wallmine_tile1",
      "leftwall": "wallmine_side1",
      "rightwall": "wallmine_side1",
      "foregroundparallax": "foreground_minesupport,foreground_mineceiling1,foreground_mineceiling2",
      "foregroundbrightness": ".5",
      "dark": 1.0,
      "groundtexture": "floor_dirt1",
      "cluttercount": 10.0,
      "cluttersprites": "rocks5,rocks6,rocks7,rocks8,rocks9",
      "clutterseed": 69420.0,
      "cluttershadow": 1.0,
      "music": "music_cavemine",
      "ambientsound1": "cave_ambience_loop",
      "basewaa": "mine2",
      "elements": {
        "beaniron": {
          "asset": "none",
          "usedasset": null,
          "x": 808.0,
          "z": 323.0,
          "height": 50.0,
          "width": 50.0,
          "condition": "hasskill(cookery)",
          "script": "mine2_beaniron1",
          "proximity": 0.0,
          "emitter": "twinkles",
          "notilt": 1.0
        },
        "cart1": {
          "asset": "minecart_full",
          "usedasset": "minecart_empty",
          "x": 1643.0,
          "z": 23.0,
          "height": 234.0,
          "width": 221.0,
          "condition": "",
          "script": "mine2_cart2",
          "proximity": 0.0
        },
        "curlyhole": {
          "asset": "none",
          "usedasset": null,
          "x": 743.0,
          "z": 114.0,
          "height": 10.0,
          "width": 100.0,
          "condition": "hasflag(quest_curly)==2",
          "script": "mine2_curlyhole",
          "proximity": 0.0
        },
        "elvchest": {
          "asset": "elv_chest_locked",
          "usedasset": "elv_chest_open",
          "x": 1349.0,
          "z": 218.0,
          "height": 135.0,
          "width": 278.0,
          "condition": "hasflag(mine2_cache)",
          "script": "elv_chest",
          "proximity": 0.0,
          "elvibrato": 1.0,
          "": "usedscript maybe"
        },
        "elvchest_notice": {
          "asset": "none",
          "usedasset": null,
          "x": 1271.0,
          "z": 209.0,
          "height": 30.0,
          "width": 30.0,
          "condition": "!hasflag(mine2_cache)",
          "script": "mine2_elvcache",
          "proximity": 0.0,
          "extendforward": 1.0,
          "extendback": 1.0,
          "noclip": 1.0
        },
        "exitdown": {
          "asset": "minedoor",
          "usedasset": null,
          "x": 1523.0,
          "z": 249.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "autoscript__mine2_interior2__exitdown__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "exitup": {
          "asset": "minedoor_rope2",
          "usedasset": null,
          "x": 224.0,
          "z": 252.0,
          "height": 486.0,
          "width": 546.0,
          "condition": "",
          "script": "mine2_doorupto1",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "rock1": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 1345.0,
          "z": 230.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock2": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 1417.0,
          "z": 206.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock3": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 1349.0,
          "z": 205.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock4": {
          "asset": "rocks6",
          "usedasset": null,
          "x": 1414.0,
          "z": 228.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks1": {
          "asset": "rocks8",
          "usedasset": null,
          "x": 218.0,
          "z": 251.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks2": {
          "asset": "rocks10",
          "usedasset": null,
          "x": 380.0,
          "z": 251.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks3": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 1519.0,
          "z": 248.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks4": {
          "asset": "rocks8",
          "usedasset": null,
          "x": 1678.0,
          "z": 248.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "triangle1": {
          "asset": "trianglerock2",
          "usedasset": null,
          "x": 766.0,
          "z": 135.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "mine2_elvmarker",
          "proximity": 0.0
        },
        "triangle2": {
          "asset": "trianglerock1",
          "usedasset": null,
          "x": 710.0,
          "z": 87.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "mine2_elvmarker",
          "proximity": 0.0
        },
        "triangle3": {
          "asset": "trianglerock3",
          "usedasset": null,
          "x": 833.0,
          "z": 88.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "mine2_elvmarker",
          "proximity": 0.0,
          "flip": 1.0
        },
        "vein1": {
          "asset": "meatvein1",
          "usedasset": null,
          "x": 130.0,
          "z": 287.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "meatvein",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "vein2": {
          "asset": "meatvein2",
          "usedasset": null,
          "x": 1085.0,
          "z": 315.0,
          "height": 144.0,
          "width": 318.0,
          "condition": "",
          "script": "meatvein",
          "proximity": 0.0,
          "flip": 1.0,
          "notilt": 1.0
        },
        "vein3": {
          "asset": "meatvein3",
          "usedasset": null,
          "x": 1363.0,
          "z": 54.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "meatvein",
          "proximity": 0.0,
          "floordecal": 1.0
        }
      },
      "parentwaa": "mine2"
    },
    "mine5_level1": {
      "name": "Soupstock Lode (Level 1)",
      "width": "2.200",
      "ground": null,
      "sky": "",
      "startxy": "1080,100",
      "horizon": "wallmine_tile1",
      "leftwall": "wallmine_side1",
      "rightwall": "wallmine_side1",
      "foregroundparallax": "foreground_minesupport,foreground_mineceiling1,foreground_mineceiling2",
      "foregroundbrightness": ".5",
      "dark": 1.0,
      "groundtexture": "floor_dirt1",
      "music": "music_cavemine",
      "ambientsound1": "cave_ambience_loop",
      "basewaa": "mine5",
      "elements": {
        "beaniron": {
          "asset": "none",
          "usedasset": null,
          "x": 0.0,
          "z": 0.0,
          "height": 50.0,
          "width": 50.0,
          "condition": "hasskill(cookery)",
          "script": "mine5_beaniron2",
          "proximity": 0.0,
          "emitter": "twinkles"
        },
        "crate": {
          "asset": "lockers_3_dirty",
          "usedasset": "lockers_3_dirty",
          "x": 406.0,
          "z": 232.0,
          "height": 452.0,
          "width": 262.0,
          "condition": "",
          "script": "mine5_lockers",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "deeper": {
          "asset": "minedoor",
          "usedasset": null,
          "x": 1814.0,
          "z": 244.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "autoscript__mine5_level1__deeper__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "exit": {
          "asset": "minedoor",
          "usedasset": null,
          "x": 131.0,
          "z": 239.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "autoscript__mine5_level1__exit__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "souppool1": {
          "asset": "meatvein2",
          "usedasset": null,
          "x": 1028.0,
          "z": 122.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine5_souppool1)",
          "script": "mine5_souppool",
          "proximity": 0.0,
          "floordecal": 1.0,
          "emitter": "smoke_a,25,50",
          "emitter1": "smoke_a,75,80"
        },
        "souppool1nosteppy": {
          "asset": "none",
          "usedasset": null,
          "x": 1031.0,
          "z": 146.0,
          "height": 10.0,
          "width": 100.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "souppool1_used": {
          "asset": "meatvein2",
          "usedasset": null,
          "x": 1028.0,
          "z": 122.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(mine5_souppool1)",
          "script": "",
          "proximity": 0.0,
          "floordecal": 1.0
        },
        "souppool2": {
          "asset": "meatvein2",
          "usedasset": null,
          "x": 1544.0,
          "z": 188.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "!hasflag(mine5_souppool2)",
          "script": "mine5_souppool",
          "proximity": 0.0,
          "floordecal": 1.0,
          "emitter": "smoke_a,25,50",
          "emitter1": "smoke_a,75,80"
        },
        "souppool2_used": {
          "asset": "meatvein2",
          "usedasset": null,
          "x": 1544.0,
          "z": 188.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "hasflag(mine5_souppool2)",
          "script": "",
          "proximity": 0.0,
          "floordecal": 1.0
        },
        "workbench": {
          "asset": "workbench",
          "usedasset": "workbench",
          "x": 592.0,
          "z": 235.0,
          "height": 250.0,
          "width": 310.0,
          "condition": "",
          "script": "mine5_workbench",
          "proximity": 0.0,
          "extendback": 1.0
        }
      },
      "parentwaa": "mine5"
    },
    "shaggydogcave_interior": {
      "name": "Shaggy Dog Cave (Inside)",
      "width": "9.300",
      "ground": "",
      "sky": "",
      "startxy": "205,123",
      "horizon": "wallcave_tile1",
      "foregroundparallax": "foreground_caveleft1,foreground_cavemiddle1,foreground_cavemiddle5,foreground_cavemiddle3,foreground_cavemiddle2,foreground_cavemiddle1,foreground_cavemiddle4,foreground_caveright1",
      "foregroundbrightness": ".5",
      "dark": 1.0,
      "groundtexture": "floor_dirt1",
      "cluttercount": 100.0,
      "cluttersprites": "rocks1,rocks2,rocks3,rocks4",
      "clutterseed": 1.0,
      "cluttersolid": 1.0,
      "cluttershadow": 1.0,
      "music": "music_cavemine",
      "ambientsound1": "Cave_ambience_loop",
      "basewaa": "shaggydogcave",
      "elements": {
        "beaniron": {
          "asset": "none",
          "usedasset": null,
          "x": 4391.0,
          "z": 332.0,
          "height": 50.0,
          "width": 50.0,
          "condition": "hasskill(cookery)",
          "script": "shaggydogcave_beaniron1",
          "proximity": 0.0,
          "emitter": "twinkles",
          "notilt": 1.0
        },
        "exit": {
          "asset": "caveopening2",
          "usedasset": null,
          "x": 101.0,
          "z": 255.0,
          "height": 525.0,
          "width": 536.0,
          "condition": "",
          "script": "autoscript__shaggydogcave_interior__exit__exec",
          "proximity": 0.0,
          "extendback": 1.0,
          "noshadow": 1.0
        },
        "monolith": {
          "asset": "elvmonolith_off",
          "usedasset": "elvmonolith_on",
          "x": 389.0,
          "z": 69.0,
          "height": 446.0,
          "width": 392.0,
          "condition": "hasflag(shaggydogcave_cache)",
          "script": "elv_monolith",
          "proximity": 0.0,
          "elvibrato": 1.0,
          "": "Maybe write a usedscript popup for this?"
        },
        "monolithnotice": {
          "asset": "none",
          "usedasset": null,
          "x": 325.0,
          "z": 88.0,
          "height": 30.0,
          "width": 30.0,
          "condition": "!hasflag(shaggydogcave_cache)",
          "script": "shaggydogcave_elvcache",
          "proximity": 0.0,
          "extendforward": 1.0,
          "extendback": 1.0,
          "noclip": 1.0
        },
        "p01": {
          "asset": "plaque",
          "usedasset": null,
          "x": 512.0,
          "z": 313.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p02": {
          "asset": "plaque",
          "usedasset": null,
          "x": 1024.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p03": {
          "asset": "plaque",
          "usedasset": null,
          "x": 1537.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p04": {
          "asset": "plaque",
          "usedasset": null,
          "x": 2048.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p05": {
          "asset": "plaque",
          "usedasset": null,
          "x": 2600.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p06": {
          "asset": "plaque",
          "usedasset": null,
          "x": 3096.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p07": {
          "asset": "plaque",
          "usedasset": null,
          "x": 3700.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p08": {
          "asset": "plaque",
          "usedasset": null,
          "x": 4100.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p09": {
          "asset": "plaque",
          "usedasset": null,
          "x": 5050.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p10": {
          "asset": "plaque",
          "usedasset": null,
          "x": 5600.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p11": {
          "asset": "plaque",
          "usedasset": null,
          "x": 6150.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p12": {
          "asset": "plaque",
          "usedasset": null,
          "x": 6800.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p13": {
          "asset": "plaque",
          "usedasset": null,
          "x": 7300.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p14": {
          "asset": "plaque",
          "usedasset": null,
          "x": 7900.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p15": {
          "asset": "plaque",
          "usedasset": null,
          "x": 8450.0,
          "z": 313.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "p16": {
          "asset": "plaque",
          "usedasset": null,
          "x": 9392.0,
          "z": 313.0,
          "height": 212.0,
          "width": 274.0,
          "condition": "",
          "script": "shaggydog_plaque",
          "proximity": 0.0,
          "notilt": 1.0
        },
        "pardner": {
          "asset": "person",
          "usedasset": null,
          "x": 338.0,
          "z": 225.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "pardner",
          "proximity": 0.0
        },
        "rock1": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 377.0,
          "z": 83.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock2": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 374.0,
          "z": 51.0,
          "height": 42.0,
          "width": 102.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock3": {
          "asset": "rocks5",
          "usedasset": null,
          "x": 503.0,
          "z": 87.0,
          "height": 42.0,
          "width": 102.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rock4": {
          "asset": "rocks6",
          "usedasset": null,
          "x": 505.0,
          "z": 50.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "rocks1": {
          "asset": "rocks2",
          "usedasset": null,
          "x": 89.0,
          "z": 250.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "rocks2": {
          "asset": "rocks1",
          "usedasset": null,
          "x": 256.0,
          "z": 253.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0,
          "flip": 1.0
        },
        "s1": {
          "asset": "stalag1",
          "usedasset": null,
          "x": 1000.0,
          "z": 50.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s10": {
          "asset": "stalag2",
          "usedasset": null,
          "x": 2955.0,
          "z": 74.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s11": {
          "asset": "stalag3",
          "usedasset": null,
          "x": 2500.0,
          "z": 90.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s12": {
          "asset": "stalag4",
          "usedasset": null,
          "x": 4500.0,
          "z": 65.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s13": {
          "asset": "stalag5",
          "usedasset": null,
          "x": 4900.0,
          "z": 200.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s14": {
          "asset": "stalag6",
          "usedasset": null,
          "x": 4069.0,
          "z": 89.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s15": {
          "asset": null,
          "usedasset": null,
          "x": 6000.0,
          "z": 120.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s16": {
          "asset": "stalagcluster1",
          "usedasset": null,
          "x": 6984.0,
          "z": 46.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s17": {
          "asset": "stalagcluster3",
          "usedasset": null,
          "x": 650.0,
          "z": 170.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s18": {
          "asset": "stalagcluster2",
          "usedasset": null,
          "x": 8000.0,
          "z": 0.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s19": {
          "asset": "stalagcluster1",
          "usedasset": null,
          "x": 5500.0,
          "z": 25.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s2": {
          "asset": "stalag2",
          "usedasset": null,
          "x": 2500.0,
          "z": 95.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s20": {
          "asset": "stalagcluster3",
          "usedasset": null,
          "x": 1200.0,
          "z": 200.0,
          "height": 278.0,
          "width": 196.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s21": {
          "asset": "stalagcluster1",
          "usedasset": null,
          "x": 1950.0,
          "z": 130.0,
          "height": 562.0,
          "width": 258.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s22": {
          "asset": "stalag7",
          "usedasset": null,
          "x": 7500.0,
          "z": 200.0,
          "height": 477.0,
          "width": 138.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s23": {
          "asset": "stalag3",
          "usedasset": null,
          "x": 8500.0,
          "z": 150.0,
          "height": 580.0,
          "width": 141.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s3": {
          "asset": "stalag3",
          "usedasset": null,
          "x": 1500.0,
          "z": 60.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s4": {
          "asset": "stalag5",
          "usedasset": null,
          "x": 3000.0,
          "z": 100.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s5": {
          "asset": "stalag4",
          "usedasset": null,
          "x": 3500.0,
          "z": 170.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s6": {
          "asset": "stalag6",
          "usedasset": null,
          "x": 6500.0,
          "z": 100.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s7": {
          "asset": null,
          "usedasset": null,
          "x": 0.0,
          "z": 210.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s8": {
          "asset": "stalag7",
          "usedasset": null,
          "x": 6000.0,
          "z": 65.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0
        },
        "s9": {
          "asset": "stalag1",
          "usedasset": null,
          "x": 3896.0,
          "z": 241.0,
          "height": 0.0,
          "width": 0.0,
          "condition": "",
          "script": "",
          "proximity": 0.0,
          "extendback": 1.0
        },
        "treasurehole": {
          "asset": "bighole",
          "usedasset": null,
          "x": 9319.0,
          "z": 91.0,
          "height": 88.0,
          "width": 378.0,
          "condition": "",
          "script": "shaggydogcave_hole",
          "proximity": 0.0
        }
      },
      "parentwaa": "shaggydogcave"
    }
  }
}